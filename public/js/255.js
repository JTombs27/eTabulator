"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[255],{9255:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ce});var l=a(821),n={key:0,class:"row bg-white"},o=(0,l.createElementVNode)("div",{class:"col-12 text-center bg-white",style:{"margin-top":"10px !important","padding-left":"20px","padding-right":"20px"}},[(0,l.createElementVNode)("b",null,[(0,l.createElementVNode)("h1",null,[(0,l.createElementVNode)("b",null,"TRAVEL TICKET VALIDATION "),(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-truck-front-fill",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{"fill-rule":"evenodd",d:"M3.5 0A2.5 2.5 0 0 0 1 2.5v9c0 .818.393 1.544 1 2v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V14h6v1.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2c.607-.456 1-1.182 1-2v-9A2.5 2.5 0 0 0 12.5 0h-9ZM3 3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3.9c0 .625-.562 1.092-1.17.994C10.925 7.747 9.208 7.5 8 7.5c-1.208 0-2.925.247-3.83.394A1.008 1.008 0 0 1 3 6.9V3Zm1 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm8 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-5-2a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2H7Z"})])])])],-1),r={class:"col-md-12 p-20 bg-white"},d={class:"table table-bordered"},c=(0,l.createElementVNode)("td",null,"Travel Status",-1),i=(0,l.createElementVNode)("td",null,":",-1),s=(0,l.createElementVNode)("td",null,"Plate Number",-1),m=(0,l.createElementVNode)("td",null,":",-1),u=(0,l.createElementVNode)("td",null,"Travel Date",-1),p=(0,l.createElementVNode)("td",null,":",-1),v=(0,l.createElementVNode)("td",null,"Allowed Liter/s ",-1),V=(0,l.createElementVNode)("td",null,":",-1),E=(0,l.createElementVNode)("td",null,"Gasoline Station ",-1),N=(0,l.createElementVNode)("td",null,":",-1),h=(0,l.createElementVNode)("td",null,"Gas Type ",-1),g=(0,l.createElementVNode)("td",null,":",-1),T={key:0},b={key:1},f={key:2},k={key:3},D={key:4},w={key:5},y=(0,l.createElementVNode)("td",null,"Price",-1),_=(0,l.createElementVNode)("td",null,":",-1),O=(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("td",{colspan:"3"},"Drivers Name:")],-1),B={colspan:"3",style:{"padding-left":"20px"}},C=(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("td",{colspan:"3"},"Vehicle Description:")],-1),x={colspan:"3",style:{"padding-left":"20px"}},P={class:"col-md-12 text-left pR-20",style:{"margin-top":"-15px","padding-bottom":"5px !important"}},M=[(0,l.createTextVNode)("Confirm Fueled "),(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-fuel-pump-diesel-fill",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M4.974 9.806h.692c.306 0 .556.063.75.19.198.127.343.317.437.568.096.252.144.565.144.941 0 .284-.027.53-.083.74-.053.21-.133.386-.241.528a.986.986 0 0 1-.412.315 1.575 1.575 0 0 1-.595.103h-.692V9.806Z"}),(0,l.createElementVNode)("path",{d:"M1 2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v8a2 2 0 0 1 2 2v.5a.5.5 0 0 0 1 0V8h-.5a.5.5 0 0 1-.5-.5V4.375a.5.5 0 0 1 .5-.5h1.495c-.011-.476-.053-.894-.201-1.222a.97.97 0 0 0-.394-.458c-.184-.11-.464-.195-.9-.195a.5.5 0 0 1 0-1c.564 0 1.034.11 1.412.336.383.228.634.551.794.907.295.655.294 1.465.294 2.081V7.5a.5.5 0 0 1-.5.5H15v4.5a1.5 1.5 0 0 1-3 0V12a1 1 0 0 0-1-1v4h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V2Zm2 .5v5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0-.5.5ZM4 9v5h1.796c.496 0 .906-.099 1.23-.297.327-.197.571-.484.732-.86.161-.377.242-.828.242-1.356 0-.525-.08-.973-.242-1.344a1.775 1.775 0 0 0-.725-.85C6.71 9.098 6.296 9 5.796 9H4Z"})],-1)],S={key:1,class:"col-12 text-center p-30 text-danger"},I=[(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",fill:"currentColor",class:"bi bi-x-square-fill c-red",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.354 4.646L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z"})],-1),(0,l.createElementVNode)("br",null,null,-1),(0,l.createElementVNode)("br",null,null,-1),(0,l.createElementVNode)("h5",null,"YOU HAVE SCANNED AN INVALID TRAVEL TICKET",-1)],A={class:"modal",id:"myModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1"},L={class:"modal-dialog modal-dialog-centered"},z={class:"modal-content"},F={class:"modal-body text-center"},H={key:0},G=(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",fill:"currentColor",class:"bi bi-info-square",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),(0,l.createElementVNode)("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})],-1),Z=(0,l.createElementVNode)("h3",null,[(0,l.createElementVNode)("b",null,"DAILY GASOLINE STATION OTP CONFIRMATION")],-1),R={class:"row"},Y=(0,l.createElementVNode)("label",{class:"col-6 text-start col-form-label"},[(0,l.createElementVNode)("b",null,"Enter Gasoline OTP: ")],-1),U={class:"col-6"},q={key:0,class:"text-danger text-sm text-end"},j={key:1},K={key:0},$=(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",fill:"currentColor",class:"bi bi-info-square",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),(0,l.createElementVNode)("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})],-1),J=(0,l.createElementVNode)("h3",null,[(0,l.createElementVNode)("b",null,"PLEASE CONFIRM")],-1),Q=(0,l.createElementVNode)("p",null,"This action will update the travel ticket have been fueled.",-1),W={class:"row"},X=(0,l.createElementVNode)("label",{class:"col-7 col-form-label"},"Enter Actual Liters Fueled: ",-1),ee={class:"col-5"},te={key:0,class:"text-danger text-sm text-end"},ae={key:1},le=[(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",fill:"#2dcf2b",class:"bi bi-check-circle",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,l.createElementVNode)("path",{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"})],-1),(0,l.createElementVNode)("h3",null,"SUCCESSFULLY CONFIRMED",-1),(0,l.createElementVNode)("p",null,"Transaction of this travel ticket successfully completed.",-1)],ne={key:0,class:"modal-footer text-center"},oe=(0,l.createElementVNode)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"NO",-1),re=(0,l.createTextVNode)(" Â  ");const de={props:{TravelData:Object},data:function(){return{myModal:null,actual_liters:0,invalid_actual_liters:!1,fuelOTP:localStorage.getItem("fuelOTP"),tempOTP:"",invalid_tempOTP:""}},methods:{openConfirmation:function(){if(null===localStorage.getItem("fuelOTP"))this.invalid_tempOTP="",this.tempOTP="",this.actual_liters=this.TravelData.data[0].liters,this.myModal=new window.bootstrap.Modal(document.getElementById("myModal")),this.myModal.show();else{this.invalid_actual_liters=!1;var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();localStorage.getItem("fuelOTP_date")<t?(this.fuelOTP=null,localStorage.removeItem("fuelOTP"),localStorage.removeItem("fuelOTP_date"),localStorage.removeItem("fuelOTP_date"),this.openConfirmation()):(this.actual_liters=this.TravelData.data[0].liters,this.myModal=new window.bootstrap.Modal(document.getElementById("myModal")),this.myModal.show())}},confirm:function(){var e=this,t=this;null===localStorage.getItem("fuelOTP")?""==this.tempOTP.trim()?this.invalid_tempOTP="Gasoline OTP is required to continue!":axios.get("/travelTicket/OTP/"+this.TravelData.data[0].gasoline_id+"/"+this.tempOTP).then((function(a){if(null!=a.data)if("success"==a.data){var l=new Date,n=l.getFullYear()+"-"+(l.getMonth()+1)+"-"+l.getDate();t.fuelOTP=t.tempOTP,localStorage.setItem("fuelOTP",t.tempOTP),localStorage.setItem("fuelOTP_date",n),localStorage.setItem("gasoline_id",t.TravelData.data[0].gasoline_id),e.actual_liters=e.TravelData.data[0].liters}else e.invalid_tempOTP="You have entered an incorrect OTP!"})):localStorage.getItem("gasoline_id")==this.TravelData.data[0].gasoline_id?this.actual_liters>this.TravelData.data[0].liters?this.invalid_actual_liters=!0:(this.invalid_actual_liters=!1,axios.patch("/travelTicket/"+this.TravelData.data[0].id+"/"+this.actual_liters).then((function(e){null!=e.data&&("success"==e.data?(t.$inertia.reload({only:["TravelData"]}),setTimeout((function(){t.myModal.hide()}),1500)):alert(e.data))}))):alert("Mismatch Gasoline Station! \nPLease Double check Gas Station in the ticket.")}}};const ce=(0,a(3744).Z)(de,[["render",function(e,t,a,de,ce,ie){return(0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,[a.TravelData.data.length>=1?((0,l.openBlock)(),(0,l.createElementBlock)("div",n,[o,(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("table",d,[(0,l.createElementVNode)("tbody",null,[(0,l.createElementVNode)("tr",null,[c,i,(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("b",{style:(0,l.normalizeStyle)("color:"+("Approved"==a.TravelData.data[0].status||"Fueled"==a.TravelData.data[0].status?"green":"red"))},(0,l.toDisplayString)(null!=a.TravelData.data[0].status?a.TravelData.data[0].status:"Pending"),5)])]),(0,l.createElementVNode)("tr",null,[s,m,(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("b",null,(0,l.toDisplayString)(a.TravelData.data[0].PLATENO),1)])]),(0,l.createElementVNode)("tr",null,[u,p,(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("b",null,(0,l.toDisplayString)(null!=a.TravelData.data[0].date_to?a.TravelData.data[0].date_from+" To "+a.TravelData.data[0].date_to:a.TravelData.data[0].date_from),1)])]),(0,l.createElementVNode)("tr",null,[v,V,(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("b",null,(0,l.toDisplayString)(a.TravelData.data[0].liters)+" Liter/s",1)])]),(0,l.createElementVNode)("tr",null,[E,N,(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("b",null,(0,l.toDisplayString)(a.TravelData.data[0].gasoline_station),1)])]),(0,l.createElementVNode)("tr",null,[h,g,(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("b",null,["premium_price"==a.TravelData.data[0].gas_type?((0,l.openBlock)(),(0,l.createElementBlock)("span",T," Gasoline (Premium)")):(0,l.createCommentVNode)("",!0),"breaj_oil_price"==a.TravelData.data[0].gas_type?((0,l.openBlock)(),(0,l.createElementBlock)("span",b," Break Oil")):(0,l.createCommentVNode)("",!0),"regular_price"==a.TravelData.data[0].gas_type?((0,l.openBlock)(),(0,l.createElementBlock)("span",f," Gasoline (Regular)")):(0,l.createCommentVNode)("",!0),"deisoline_price"==a.TravelData.data[0].gas_type?((0,l.openBlock)(),(0,l.createElementBlock)("span",k," Deisoline")):(0,l.createCommentVNode)("",!0),"engine_oil_price"==a.TravelData.data[0].gas_type?((0,l.openBlock)(),(0,l.createElementBlock)("span",D," Engine Oil")):(0,l.createCommentVNode)("",!0),"greases_price"==a.TravelData.data[0].gas_type?((0,l.openBlock)(),(0,l.createElementBlock)("span",w," Greases")):(0,l.createCommentVNode)("",!0)])])]),(0,l.createElementVNode)("tr",null,[y,_,(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("b",null,"â± "+(0,l.toDisplayString)(a.TravelData.data[0].price),1)])]),O,(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("td",B,[(0,l.createElementVNode)("b",null,(0,l.toDisplayString)(null==a.TravelData.data[0].actual_driver||""==a.TravelData.data[0].actual_driver?a.TravelData.data[0].first_name+" "+a.TravelData.data[0].middle_name+" "+a.TravelData.data[0].last_name:a.TravelData.data[0].actual_driver),1)])]),C,(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("td",x,[(0,l.createElementVNode)("b",null,(0,l.toDisplayString)(a.TravelData.data[0].FDESC),1)])])])])]),(0,l.createElementVNode)("div",P,["Approved"==a.TravelData.data[0].status?((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:0,type:"button",onClick:t[0]||(t[0]=function(e){return ie.openConfirmation()}),class:"btn btn-success c-white pull-right"},M)):(0,l.createCommentVNode)("",!0)])])):(0,l.createCommentVNode)("",!0),0==a.TravelData.data.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",S,I)):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",A,[(0,l.createElementVNode)("div",L,[(0,l.createElementVNode)("div",z,[(0,l.createElementVNode)("div",F,[null===ce.fuelOTP?((0,l.openBlock)(),(0,l.createElementBlock)("div",H,[G,Z,(0,l.createElementVNode)("div",R,[Y,(0,l.createElementVNode)("div",U,[(0,l.withDirectives)((0,l.createElementVNode)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return ce.tempOTP=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[l.vModelText,ce.tempOTP]])]),""!=ce.invalid_tempOTP?((0,l.openBlock)(),(0,l.createElementBlock)("label",q,(0,l.toDisplayString)(ce.invalid_tempOTP),1)):(0,l.createCommentVNode)("",!0)])])):(0,l.createCommentVNode)("",!0),null!==ce.fuelOTP?((0,l.openBlock)(),(0,l.createElementBlock)("div",j,["Approved"==a.TravelData.data[0].status?((0,l.openBlock)(),(0,l.createElementBlock)("div",K,[$,J,Q,(0,l.createElementVNode)("div",W,[X,(0,l.createElementVNode)("div",ee,[(0,l.withDirectives)((0,l.createElementVNode)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=function(e){return ce.actual_liters=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[l.vModelText,ce.actual_liters]])]),ce.invalid_actual_liters?((0,l.openBlock)(),(0,l.createElementBlock)("label",te,"Should not be greater than in the travel Ticket.")):(0,l.createCommentVNode)("",!0)])])):(0,l.createCommentVNode)("",!0),"Fueled"==a.TravelData.data[0].status?((0,l.openBlock)(),(0,l.createElementBlock)("div",ae,le)):(0,l.createCommentVNode)("",!0)])):(0,l.createCommentVNode)("",!0)]),"Approved"==a.TravelData.data[0].status?((0,l.openBlock)(),(0,l.createElementBlock)("div",ne,[oe,re,(0,l.createElementVNode)("button",{type:"button",onClick:t[3]||(t[3]=function(e){return ie.confirm()}),class:"btn btn-primary"},"CONFIRM")])):(0,l.createCommentVNode)("",!0)])])])],64)}]])}}]);