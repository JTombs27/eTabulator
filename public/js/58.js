"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[58],{7058:(e,t,o)=>{o.r(t),o.d(t,{default:()=>T});var a=o(821),n={class:"row gap-20 masonry pos-r"},i={class:"peers fxw-nw jc-sb ai-c"},r=(0,a.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,a.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,a.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),s={class:"col-md-8"},l=(0,a.createElementVNode)("label",{for:""},"Permission",-1),c=[(0,a.createStaticVNode)('<option value="Admin">Admin</option><option value="PGO">PGO-Admin</option><option value="PG-Head">PG-Head</option><option value="RO">Requestioning Office</option><option value="PGSO">PGSO</option><option value="peo-motorpool">PEO Motorpool</option><option value="gasoline-station">Gasoline Station</option>',7)],m={key:0,class:"fs-6 c-red-500"},d={key:1},f=(0,a.createElementVNode)("label",{for:""},"Gasoline Station",-1),p=(0,a.createElementVNode)("option",{value:"",readonly:"",disabled:""},"Select station",-1),u=["value"],h={key:0,class:"fs-6 c-red-500"},v=(0,a.createElementVNode)("label",{for:""},"Names",-1),g={key:3,class:"fs-6 c-red-500"},V=(0,a.createElementVNode)("label",{for:""},"Office",-1),w={key:0,class:"fs-6 c-red-500"},y=(0,a.createElementVNode)("label",{for:""},"Username",-1),k={key:4,class:"fs-6 c-red-500"},b=(0,a.createElementVNode)("label",{for:""},"Password",-1),N=["type"],E={key:5,class:"fs-6 c-red-500"},_=(0,a.createElementVNode)("label",{for:""},"Confirm Password",-1),D=["type"],x={class:"form-check"},S=(0,a.createElementVNode)("label",{class:"form-check-label",for:"flexCheckDefault"}," Show Password ",-1),C={key:6,class:"fs-6 c-red-500"},B=["disabled"];var z=o(9038),M=o(9669),P=o.n(M);const O={props:{editData:Object},data:function(){return{form:(0,z.cI)({gasoline_id:null,permission:"",name:"",citymunCode:"",brgyCode:"",purok_id:"",email:"",password:"",password_confirmation:"",username:"",cats:null,id:null,office_id:null}),stations:[],municipals:[],barangays:[],offices:[],employees:[],testValue:"",pageTitle:"",showPassword:null,loading:!1,passwordType:"password"}},mounted:function(){this.getGasolineStations(),void 0!==this.editData?(this.loading=!0,this.pageTitle="Edit",this.form.name=this.editData.name,this.form.username=this.editData.username,this.form.email=this.editData.email,this.form.id=this.editData.id,this.form.gasoline_id=this.editData.gasoline_id,this.form.cats=this.editData.cats,this.form.office_id=this.editData.office_id,this.form.permission=this.editData.role,this.editData.office_id&&$("#office").select2({data:[{text:this.editData.office.office,id:this.editData.office_id}]})):this.pageTitle="Create",$("#emp_name").select2({ajax:{url:"http://122.54.19.172:91//api/PGDDO_Employees",dataType:"json",delay:700,data:function(e){return{filter:e.term}},processResults:function(e,t){return t.page=t.page||1,{results:$.map(e,(function(e){return{id:e.employee_name,text:e.employee_name,cats:e.empl_id,data:e.empl_photo_img.data,position:e.position_long_title,department_code:e.department_code,office:e.department_proper_name}}))}},cache:!0},data:[{text:this.form.name,id:this.form.name,selected:!0}],placeholder:"Search for a repository",minimumInputLength:3,templateResult:this.formatRepo,templateSelection:this.formatRepoSelection}),$("#office").select2({ajax:{url:"/offices/fetch",dataType:"json",delay:500,data:function(e){return{filter:e.term}},processResults:function(e,t){return t.page=t.page||1,{results:$.map(e,(function(e){return{id:e.id,text:e.text,office:e.office}}))}},cache:!0},placeholder:"Search for an office",minimumInputLength:2,templateResult:this.formatOfficeSelection,templateSelection:this.formatOffice})},methods:{selectName:function(e){this.form.cats=e.cats,this.form.office_id=e.department_code,$("#office").select2({data:[{office:e.office,id:e.department_code,text:e.office,selected:!0}]})},getGasolineStations:function(){var e=this;P().post("/travels/gasoline-station").then((function(t){e.stations=t.data}))},formatOffice:function(e){return e.text},formatOfficeSelection:function(e){if(e.loading)return"Searching...";return $('<div class="d-flex pt-3">\n               '.concat('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-building" viewBox="0 0 16 16">\n            <path fill-rule="evenodd" d="M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022zM6 8.694 1 10.36V15h5V8.694zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15z"/>\n            <path d="M2 11h1v1H2v-1zm2 0h1v1H4v-1zm-2 2h1v1H2v-1zm2 0h1v1H4v-1zm4-4h1v1H8V9zm2 0h1v1h-1V9zm-2 2h1v1H8v-1zm2 0h1v1h-1v-1zm2-2h1v1h-1V9zm0 2h1v1h-1v-1zM8 7h1v1H8V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zM8 5h1v1H8V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm0-2h1v1h-1V3z"/>\n            </svg>',' <strong style="margin-left:5px">').concat(e.office,"</strong>\n            </div>\n           "))},formatRepo:function(e){if(e.loading)return"Searching...";var t="";return t=e.data?" <img class='bd-placeholder-img flex-shrink-0 me-2 rounded'  width='60' src='data:image/png;base64,".concat(e.data,"'/>"):'<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-person-square bd-placeholder-img flex-shrink-0 me-2 rounded" viewBox="0 0 16 16">\n              <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>\n              <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z"/>\n            </svg>',$('<div class="d-flex pt-3">\n               '.concat(t,'\n              <p class="pb-3 mb-0 small lh-sm border-bottom">\n                <strong class="d-block">').concat(e.id,'</strong>\n                <strong class="d-block">').concat(e.cats,"</strong>\n                    ").concat(e.position,"\n              </p>\n            </div>\n           "))},formatRepoSelection:function(e){return e.employee_name||e.text},myChangeEvent:function(e){console.log(e)},submit:function(){void 0!==this.editData?this.form.patch("/users/"+this.form.id,this.form):this.form.post("/users",this.form)},loadMunicipals:function(){var e=this;P().post("/municipalities").then((function(t){e.municipals=t.data}))},loadBarangays:function(){var e=this;P().post("/barangays",{citymunCode:this.form.citymunCode}).then((function(t){e.barangays=t.data,e.puroks=[]}))},loadOffices:function(){var e=this;P().get("/offices/fetch").then((function(t){e.offices=t.data}))}},watch:{showPassword:function(e){this.passwordType=e?"text":"password"},"form.permission":function(e){"gasoline-station"!=e&&(this.form.gasoline_id=null)}}};const T=(0,o(3744).Z)(O,[["render",function(e,t,o,z,M,P){var O=(0,a.resolveComponent)("Head"),T=(0,a.resolveComponent)("Link"),H=(0,a.resolveComponent)("Select2");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(O,null,{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("title",null,(0,a.toDisplayString)(M.pageTitle)+" users",1)]})),_:1}),(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("h3",null,(0,a.toDisplayString)(M.pageTitle)+" users",1),(0,a.createVNode)(T,{href:"/users"},{default:(0,a.withCtx)((function(){return[r]})),_:1})]),(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("form",{onSubmit:t[12]||(t[12]=(0,a.withModifiers)((function(e){return P.submit()}),["prevent"]))},[l,(0,a.withDirectives)((0,a.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=function(e){return M.form.permission=e})},c,512),[[a.vModelSelect,M.form.permission]]),M.form.errors.permission?((0,a.openBlock)(),(0,a.createElementBlock)("div",m,(0,a.toDisplayString)(M.form.errors.permission),1)):(0,a.createCommentVNode)("",!0),"gasoline-station"==M.form.permission?((0,a.openBlock)(),(0,a.createElementBlock)("span",d,[f,(0,a.withDirectives)((0,a.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=function(e){return M.form.gasoline_id=e})},[p,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(M.stations,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{value:e.id,key:e.id},(0,a.toDisplayString)(e.name),9,u)})),128))],512),[[a.vModelSelect,M.form.gasoline_id]]),M.form.errors.gasoline_id?((0,a.openBlock)(),(0,a.createElementBlock)("div",h,(0,a.toDisplayString)(M.form.errors.gasoline_id),1)):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0),v,"gasoline-station"==M.form.permission?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("input",{key:2,type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(e){return M.form.name=e})},null,512)),[[a.vModelText,M.form.name]]):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(H,{modelValue:M.form.name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return M.form.name=e}),class:(0,a.normalizeClass)({"d-none":"gasoline-station"==M.form.permission}),id:"emp_name",onSelect:t[4]||(t[4]=function(e){return P.selectName(e)})},null,8,["modelValue","class"]),M.form.errors.name?((0,a.openBlock)(),(0,a.createElementBlock)("div",g,(0,a.toDisplayString)(M.form.errors.name),1)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)({"d-none":"gasoline-station"==M.form.permission})},[V,(0,a.createVNode)(H,{modelValue:M.form.office_id,"onUpdate:modelValue":t[5]||(t[5]=function(e){return M.form.office_id=e}),id:"office"},null,8,["modelValue"]),M.form.errors.office_id?((0,a.openBlock)(),(0,a.createElementBlock)("div",w,(0,a.toDisplayString)(M.form.errors.office_id),1)):(0,a.createCommentVNode)("",!0)],2),y,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=function(e){return M.form.username=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[a.vModelText,M.form.username]]),M.form.errors.username?((0,a.openBlock)(),(0,a.createElementBlock)("div",k,(0,a.toDisplayString)(M.form.errors.username),1)):(0,a.createCommentVNode)("",!0),b,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:M.passwordType,"onUpdate:modelValue":t[7]||(t[7]=function(e){return M.form.password=e}),class:"form-control",autocomplete:"chrome-off"},null,8,N),[[a.vModelDynamic,M.form.password]]),M.form.errors.password?((0,a.openBlock)(),(0,a.createElementBlock)("div",E,(0,a.toDisplayString)(M.form.errors.password),1)):(0,a.createCommentVNode)("",!0),_,(0,a.withDirectives)((0,a.createElementVNode)("input",{type:M.passwordType,"onUpdate:modelValue":t[8]||(t[8]=function(e){return M.form.password_confirmation=e}),class:"form-control",autocomplete:"chrome-off"},null,8,D),[[a.vModelDynamic,M.form.password_confirmation]]),(0,a.createElementVNode)("div",x,[(0,a.withDirectives)((0,a.createElementVNode)("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault","onUpdate:modelValue":t[9]||(t[9]=function(e){return M.showPassword=e})},null,512),[[a.vModelCheckbox,M.showPassword]]),S]),M.form.errors.password?((0,a.openBlock)(),(0,a.createElementBlock)("div",C,(0,a.toDisplayString)(M.form.errors.password),1)):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[10]||(t[10]=function(e){return M.form.id=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[a.vModelText,M.form.id]]),(0,a.createElementVNode)("button",{type:"button",class:"btn btn-primary mt-3",onClick:t[11]||(t[11]=function(e){return P.submit()}),disabled:M.form.processing},"Save changes",8,B)],32)])])],64)}]])}}]);