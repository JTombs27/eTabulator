"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[103],{800:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(3645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"#sidebar-wrapper{height:100%;margin-right:-250px;margin-top:-9px;overflow-y:auto;position:fixed;right:250px;transition:all .5s ease;width:auto;z-index:1000}",""]);const a=o},3103:(e,t,r)=>{r.r(t),r.d(t,{default:()=>M});var n=r(821),o={class:"row gap-10 masonry pos-r"},a={class:"peers fxw-nw jc-sb ai-c"},l=(0,n.createElementVNode)("h3",null,"Merge Travels",-1),c={class:"peers"},i={class:"peer mR-5"},s={class:"input-group"},d=(0,n.createElementVNode)("span",{class:"input-group-text"},"From",-1),u={key:0,class:"fs-6 c-red-500"},m={class:"peer mR-5"},p={class:"input-group"},h=(0,n.createElementVNode)("span",{class:"input-group-text"},"To",-1),g={key:0,class:"fs-6 c-red-500"},v={class:"peer"},f=["disabled"],k={class:"peer"},E=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,n.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,n.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),N={class:"col-12"},V={class:"bgc-white p-20 bd"},y={class:"table table-hover"},x=(0,n.createElementVNode)("thead",null,[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("th",{scope:"col"},"Ticket Number"),(0,n.createElementVNode)("th",{scope:"col"},"Travel Date"),(0,n.createElementVNode)("th",{scope:"col"},"Time Departure"),(0,n.createElementVNode)("th",{scope:"col"},"Time Arrival"),(0,n.createElementVNode)("th",{scope:"col"},"Gas Type"),(0,n.createElementVNode)("th",{scope:"col"},"Liters"),(0,n.createElementVNode)("th",{scope:"col",style:{"text-align":"right"}},"Price")])],-1),b={class:"text-end"},B={key:0,colspan:"6"},P={class:"pagination"},S={class:"page-item"},_={class:"page-iteme"};var w=r(7757),C=r.n(w),D=r(1175),T=r(9263),L=r(9038);function Z(e,t,r,n,o,a,l){try{var c=e[a](l),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(n,o)}const z={name:"Soa Travel",components:{Pagination:T.Z,Filtering:D.Z},props:{travel:Array,auth:Object},data:function(){return{Travels:[],currentSort:"name",currentSortDir:"asc",pageSize:10,currentPage:1,form:(0,L.cI)({date_from:"",date_to:"",travels:[],user_id:this.auth.user.id,office_id:this.auth.user.office_id}),temp2:[]}},computed:{sortedEmp:function(){var e=this,t=this.form.date_from,r=this.form.date_to;return""==t?this.temp2:this.temp2=this.Travels.filter((function(e){return null===e.soa_travel})).filter((function(n){var o=n.date_from,a=n.date_to;return t&&r?a?t<=o&&a<=r:t<=o&&o<=r:e.temp2})),this.form.travels=this.temp2.filter((function(e){return null===e.soa_travel})),this.myLength=this.temp2.length,this.temp2.sort((function(t,r){var n=1;return"desc"===e.currentSortDir&&(n=-1),t[e.currentSort]<r[e.currentSort]?-1*n:t[e.currentSort]>r[e.currentSort]?1*n:0})).filter((function(t,r){var n=(e.currentPage-1)*e.pageSize,o=e.currentPage*e.pageSize;if(r>=n&&r<o)return!0}))}},mounted:function(){this.getData()},methods:{getData:function(){var e,t=this;return(e=C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Travels=t.travel,t.myLength=t.Travels.length;case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function l(e){Z(a,n,o,l,c,"next",e)}function c(e){Z(a,n,o,l,c,"throw",e)}l(void 0)}))})()},nextPage:function(){this.currentPage*this.pageSize<this.myLength&&this.currentPage++},prevPage:function(){this.currentPage>1&&this.currentPage--},sort:function(e){e===this.currentSort&&(this.currentSortDir="asc"===this.currentSortDir?"desc":"asc"),this.currentSort=e},getTo:function(){var e=this.currentPage;return(e*=this.pageSize)>this.myLength&&(e-=e-this.myLength),e},date_from:function(){this.currentPage=1},date_to:function(){this.currentPage=1},submit:function(){this.$inertia.visit("/soatravels",{method:"post",data:this.form})}}};const M=(0,r(3744).Z)(z,[["render",function(e,t,r,w,C,D){var T=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)("div",o,[(0,n.createElementVNode)("div",a,[l,(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("div",s,[d,(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=function(e){return C.form.date_from=e}),onChange:t[1]||(t[1]=function(e){return D.date_from()}),class:"form-control"},null,544),[[n.vModelText,C.form.date_from]])]),C.form.errors.date_from?((0,n.openBlock)(),(0,n.createElementBlock)("div",u,(0,n.toDisplayString)(C.form.errors.date_from),1)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",m,[(0,n.createElementVNode)("div",p,[h,(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=function(e){return C.form.date_to=e}),onChange:t[3]||(t[3]=function(e){return D.date_to()}),class:"form-control"},null,544),[[n.vModelText,C.form.date_to]])]),C.form.errors.date_to?((0,n.openBlock)(),(0,n.createElementBlock)("div",g,(0,n.toDisplayString)(C.form.errors.date_to),1)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",v,[(0,n.createElementVNode)("button",{class:"btn btn-primary text-white",onClick:t[4]||(t[4]=function(e){return D.submit()}),disabled:0==C.form.travels},"Merge",8,f)]),(0,n.createElementVNode)("div",k,[(0,n.createVNode)(T,{class:"btn btn-danger text-white",href:"/soatravels"},{default:(0,n.withCtx)((function(){return[E]})),_:1})])])]),(0,n.createElementVNode)("div",N,[(0,n.createElementVNode)("div",V,[(0,n.createElementVNode)("table",y,[x,(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(D.sortedEmp,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",null,[(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.ticket_number),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.travelDate),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.time_departure),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.time_arrival),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.gas_type),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.total_liters),1),(0,n.createElementVNode)("td",b,(0,n.toDisplayString)(Number(e.price).toLocaleString(void 0,{minimumFractionDigits:2})),1)])})),256)),D.sortedEmp.length?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("td",B,"No record found."))])]),(0,n.createElementVNode)("ul",P,[(0,n.createElementVNode)("li",S,[this.currentPage>1?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"page-link",onClick:t[5]||(t[5]=function(){return D.prevPage&&D.prevPage.apply(D,arguments)}),"preserve-scroll":"",style:{color:"grey"}},"Previous")):(0,n.createCommentVNode)("",!0),this.currentPage<=1?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,class:"page-link",disabled:!0,onClick:t[6]||(t[6]=function(){return D.prevPage&&D.prevPage.apply(D,arguments)}),style:{color:"grey"}},"Previous")):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("li",_,[this.currentPage*this.pageSize<this.myLength?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,class:"page-link",onClick:t[7]||(t[7]=function(){return D.nextPage&&D.nextPage.apply(D,arguments)}),"preserve-scroll":"",style:{color:"grey"}},"Next")):(0,n.createCommentVNode)("",!0),this.currentPage*this.pageSize>=this.myLength?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,class:"page-link",disabled:!0,onClick:t[8]||(t[8]=function(){return D.nextPage&&D.nextPage.apply(D,arguments)}),style:{color:"grey"}},"Next")):(0,n.createCommentVNode)("",!0)])])])])])}]])},1175:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(821),o={id:"sidebar-wrapper",class:"sidebar-nav nav navbar-inverse"},a={class:"row",style:{width:"380px"}},l={class:"bgc-white"},c={class:"modal-header"},i=(0,n.createElementVNode)("h5",{class:"modal-title",id:"exampleModalLiveLabel"},"Advanced Filtering",-1),s={class:"modal-body"};const d={};var u=r(3379),m=r.n(u),p=r(800),h={insert:"head",singleton:!1};m()(p.Z,h);p.Z.locals;const g=(0,r(3744).Z)(d,[["render",function(e,t,r,d,u,m){return(0,n.openBlock)(),(0,n.createElementBlock)("div",o,[(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("div",l,[(0,n.createElementVNode)("div",c,[i,(0,n.createElementVNode)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeFilter")})})]),(0,n.createElementVNode)("div",s,[(0,n.renderSlot)(e.$slots,"default")])])])])}]])},9263:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(821),o={class:"pagination"},a={class:"page-item"},l=(0,n.createTextVNode)("Previous"),c={class:"page-item"},i=(0,n.createTextVNode)("Next");const s={props:{prev:String,next:String}};const d=(0,r(3744).Z)(s,[["render",function(e,t,r,s,d,u){var m=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("ul",o,[(0,n.createElementVNode)("li",a,[r.prev?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,class:"page-link",href:r.prev,"preserve-scroll":""},{default:(0,n.withCtx)((function(){return[l]})),_:1},8,["href"])):((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:1,class:(0,n.normalizeClass)(["page-link",{"text-muted":!r.prev}])},"Previous",2))]),(0,n.createElementVNode)("li",c,[r.next?((0,n.openBlock)(),(0,n.createBlock)(m,{key:0,class:"page-link",href:r.next,"preserve-scroll":""},{default:(0,n.withCtx)((function(){return[i]})),_:1},8,["href"])):((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:1,class:(0,n.normalizeClass)(["page-link",{"text-muted":!r.next}])},"Next",2))])])])}]])}}]);