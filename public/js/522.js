"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[522],{8661:(e,t,o)=>{o.r(t),o.d(t,{default:()=>K});var n=o(821),a={class:"row gap-20 masonry pos-r"},l={class:"peers fxw-nw jc-sb ai-c"},i=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,n.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,n.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),r={class:"col-md-8"},s={class:"col-md-12 mT-10 gap-20"},c={class:"row"},m=(0,n.createElementVNode)("label",{for:"",class:"col-md-4 col-12 my-auto offset-md-2 text-md-start"},[(0,n.createElementVNode)("b",null," Select Agency Type"),(0,n.createElementVNode)("small",{class:"text-danger"},[(0,n.createElementVNode)("strong",null,"(Required)")])],-1),d={class:"col-md-3 col-6 d-grid"},f={class:"btn btn-sm btn-outline-success text-nowrap",for:"capitol"},p={key:0,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},u=[(0,n.createElementVNode)("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,n.createElementVNode)("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"},null,-1)],h=(0,n.createTextVNode)(" Capitol Employee "),v={class:"col-md-3 col-6 d-grid"},g={class:"btn btn-sm btn-outline-success text-nowrap",for:"non-capitol"},V={key:0,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},w=[(0,n.createElementVNode)("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,n.createElementVNode)("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"},null,-1)],y=(0,n.createTextVNode)(" Non Capitol Employee "),E=(0,n.createElementVNode)("label",{for:""},"Permission",-1),N=[(0,n.createStaticVNode)('<option value="Admin">Admin</option><option value="PGO">PGO-Admin</option><option value="PG-Head">PG-Head</option><option value="RO">Requestioning Office</option><option value="PGSO">PGSO</option><option value="peo-motorpool">PEO Motorpool</option><option value="gasoline-station">Gasoline Station</option>',7)],k={key:0,class:"fs-6 c-red-500"},b={key:1},_=(0,n.createElementVNode)("label",{for:""},"Gasoline Station",-1),x=(0,n.createElementVNode)("option",{value:"",readonly:"",disabled:""},"Select station",-1),D=["value"],C={key:0,class:"fs-6 c-red-500"},S=(0,n.createElementVNode)("label",{for:""},"Names",-1),B={key:3,class:"fs-6 c-red-500"},z=(0,n.createElementVNode)("label",{for:""},"Office",-1),M={key:0,class:"fs-6 c-red-500"},T=(0,n.createElementVNode)("label",{for:""},"Username",-1),P={key:4,class:"fs-6 c-red-500"},O=(0,n.createElementVNode)("label",{for:""},"Password",-1),H=["type"],R={key:5,class:"fs-6 c-red-500"},U=(0,n.createElementVNode)("label",{for:""},"Confirm Password",-1),G=["type"],L={class:"form-check"},j=(0,n.createElementVNode)("label",{class:"form-check-label",for:"flexCheckDefault"}," Show Password ",-1),A={key:6,class:"fs-6 c-red-500"},q=["disabled"];var I=o(9038),Z=o(9669),F=o.n(Z);const J={props:{editData:Object},data:function(){return{form:(0,I.cI)({gasoline_id:null,permission:"",name:"",citymunCode:"",brgyCode:"",purok_id:"",email:"",password:"",password_confirmation:"",username:"",cats:null,id:null,office_id:null,non_capitol:null}),stations:[],municipals:[],barangays:[],offices:[],employees:[],testValue:"",pageTitle:"",showPassword:null,loading:!1,passwordType:"password"}},mounted:function(){this.getGasolineStations(),void 0!==this.editData?(this.loading=!0,this.pageTitle="Edit",this.form.name=this.editData.name,this.form.username=this.editData.username,this.form.email=this.editData.email,this.form.id=this.editData.id,this.form.gasoline_id=this.editData.gasoline_id,this.form.cats=this.editData.cats,this.form.office_id=this.editData.office_id,this.form.permission=this.editData.role,this.editData.office_id&&$("#office").select2({data:[{text:this.editData.office.office,id:this.editData.office_id}]})):this.pageTitle="Create",$("#office").select2({ajax:{url:"/offices/fetch",dataType:"json",delay:500,data:function(e){return{filter:e.term}},processResults:function(e,t){return t.page=t.page||1,{results:$.map(e,(function(e){return{id:e.id,text:e.text,office:e.office}}))}},cache:!0},placeholder:"Search for an office",minimumInputLength:2,templateResult:this.formatOfficeSelection,templateSelection:this.formatOffice})},methods:{selectName:function(e){this.form.cats=e.cats,this.form.office_id=e.department_code,$("#office").select2({data:[{office:e.office,id:e.department_code,text:e.office,selected:!0}]})},getGasolineStations:function(){var e=this;F().post("/travels/gasoline-station").then((function(t){e.stations=t.data}))},fetchEmployees:function(){$("#emp_name").select2({ajax:{url:this.urlEmp,dataType:"json",delay:700,data:function(e){return{filter:e.term}},processResults:function(e,t){return t.page=t.page||1,{results:$.map(e,(function(e){return console.log(e.empl_photo_img.data),{id:e.employee_name,text:e.employee_name,cats:e.empl_id,data:e.empl_photo_img.data,position:e.position_long_title,department_code:e.department_code,office:e.department_proper_name}}))}},cache:!0},data:[{text:this.form.name,id:this.form.name,selected:!0}],placeholder:"Search for a repository",minimumInputLength:3,templateResult:this.formatRepo,templateSelection:this.formatRepoSelection})},formatOffice:function(e){return e.text},formatOfficeSelection:function(e){if(e.loading)return"Searching...";return $('<div class="d-flex pt-3">\n               '.concat('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-building" viewBox="0 0 16 16">\n            <path fill-rule="evenodd" d="M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022zM6 8.694 1 10.36V15h5V8.694zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15z"/>\n            <path d="M2 11h1v1H2v-1zm2 0h1v1H4v-1zm-2 2h1v1H2v-1zm2 0h1v1H4v-1zm4-4h1v1H8V9zm2 0h1v1h-1V9zm-2 2h1v1H8v-1zm2 0h1v1h-1v-1zm2-2h1v1h-1V9zm0 2h1v1h-1v-1zM8 7h1v1H8V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zM8 5h1v1H8V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm0-2h1v1h-1V3z"/>\n            </svg>',' <strong style="margin-left:5px">').concat(e.office,"</strong>\n            </div>\n           "))},formatRepo:function(e){if(e.loading)return"Searching...";var t="";return t=e.data?" <img class='bd-placeholder-img flex-shrink-0 me-2 rounded'  width='60' src='data:image/png;base64,".concat(e.data,"'/>"):'<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-person-square bd-placeholder-img flex-shrink-0 me-2 rounded" viewBox="0 0 16 16">\n                    <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>\n                    <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z"/>\n                    </svg>',$('<div class="d-flex pt-3">\n                    '.concat(t,'\n                    <p class="pb-3 mb-0 small lh-sm border-bottom">\n                        <strong class="d-block">').concat(e.id,'</strong>\n                        <strong class="d-block">').concat(e.cats,"</strong>\n                        ").concat(e.position,"\n                    </p>\n                </div>\n                        "))},formatRepoSelection:function(e){return e.employee_name||e.text},myChangeEvent:function(e){console.log(e)},submit:function(){void 0!==this.editData?this.form.patch("/users/"+this.form.id,this.form):this.form.post("/users",this.form)},loadMunicipals:function(){var e=this;F().post("/municipalities").then((function(t){e.municipals=t.data}))},loadBarangays:function(){var e=this;F().post("/barangays",{citymunCode:this.form.citymunCode}).then((function(t){e.barangays=t.data,e.puroks=[]}))},loadOffices:function(){var e=this;F().get("/offices/fetch").then((function(t){e.offices=t.data}))}},watch:{showPassword:function(e){this.passwordType=e?"text":"password"},"form.permission":function(e){"gasoline-station"!=e&&(this.form.gasoline_id=null)},"form.non_capitol":function(){this.fetchEmployees()}},computed:{urlEmp:function(){return 0==this.form.non_capitol?"http://122.54.19.172:91//api/PGDDO_Employees":1==this.form.non_capitol?"/employees/fetch":void 0}}};const K=(0,o(3744).Z)(J,[["render",function(e,t,o,$,I,Z){var F=(0,n.resolveComponent)("Head"),J=(0,n.resolveComponent)("Link"),K=(0,n.resolveComponent)("Select2");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(F,null,{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("title",null,(0,n.toDisplayString)(I.pageTitle)+" users",1)]})),_:1}),(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("div",l,[(0,n.createElementVNode)("h3",null,(0,n.toDisplayString)(I.pageTitle)+" users",1),(0,n.createVNode)(J,{href:"/users"},{default:(0,n.withCtx)((function(){return[i]})),_:1})]),(0,n.createElementVNode)("div",r,[(0,n.createElementVNode)("form",{onSubmit:t[14]||(t[14]=(0,n.withModifiers)((function(e){return Z.submit()}),["prevent"]))},[(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",c,[m,(0,n.createElementVNode)("div",d,[(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"radio",class:"btn-check",name:"options-outlined",id:"capitol",autocomplete:"off",value:"0","onUpdate:modelValue":t[0]||(t[0]=function(e){return I.form.non_capitol=e})},null,512),[[n.vModelRadio,I.form.non_capitol]]),(0,n.createElementVNode)("label",f,[0==I.form.non_capitol?((0,n.openBlock)(),(0,n.createElementBlock)("svg",p,u)):(0,n.createCommentVNode)("",!0),h])]),(0,n.createElementVNode)("div",v,[(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"radio",class:"btn-check",name:"options-outlined",id:"non-capitol",autocomplete:"off",value:"1","onUpdate:modelValue":t[1]||(t[1]=function(e){return I.form.non_capitol=e})},null,512),[[n.vModelRadio,I.form.non_capitol]]),(0,n.createElementVNode)("label",g,[1==I.form.non_capitol?((0,n.openBlock)(),(0,n.createElementBlock)("svg",V,w)):(0,n.createCommentVNode)("",!0),y])])])]),E,(0,n.withDirectives)((0,n.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=function(e){return I.form.permission=e})},N,512),[[n.vModelSelect,I.form.permission]]),I.form.errors.permission?((0,n.openBlock)(),(0,n.createElementBlock)("div",k,(0,n.toDisplayString)(I.form.errors.permission),1)):(0,n.createCommentVNode)("",!0),"gasoline-station"==I.form.permission?((0,n.openBlock)(),(0,n.createElementBlock)("span",b,[_,(0,n.withDirectives)((0,n.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=function(e){return I.form.gasoline_id=e})},[x,((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(I.stations,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{value:e.id,key:e.id},(0,n.toDisplayString)(e.name),9,D)})),128))],512),[[n.vModelSelect,I.form.gasoline_id]]),I.form.errors.gasoline_id?((0,n.openBlock)(),(0,n.createElementBlock)("div",C,(0,n.toDisplayString)(I.form.errors.gasoline_id),1)):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),S,"gasoline-station"==I.form.permission?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("input",{key:2,type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(e){return I.form.name=e})},null,512)),[[n.vModelText,I.form.name]]):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(K,{modelValue:I.form.name,"onUpdate:modelValue":t[5]||(t[5]=function(e){return I.form.name=e}),class:(0,n.normalizeClass)({"d-none":"gasoline-station"==I.form.permission}),id:"emp_name",onSelect:t[6]||(t[6]=function(e){return Z.selectName(e)})},null,8,["modelValue","class"]),I.form.errors.name?((0,n.openBlock)(),(0,n.createElementBlock)("div",B,(0,n.toDisplayString)(I.form.errors.name),1)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)({"d-none":"gasoline-station"==I.form.permission})},[z,(0,n.createVNode)(K,{modelValue:I.form.office_id,"onUpdate:modelValue":t[7]||(t[7]=function(e){return I.form.office_id=e}),id:"office"},null,8,["modelValue"]),I.form.errors.office_id?((0,n.openBlock)(),(0,n.createElementBlock)("div",M,(0,n.toDisplayString)(I.form.errors.office_id),1)):(0,n.createCommentVNode)("",!0)],2),T,(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=function(e){return I.form.username=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[n.vModelText,I.form.username]]),I.form.errors.username?((0,n.openBlock)(),(0,n.createElementBlock)("div",P,(0,n.toDisplayString)(I.form.errors.username),1)):(0,n.createCommentVNode)("",!0),O,(0,n.withDirectives)((0,n.createElementVNode)("input",{type:I.passwordType,"onUpdate:modelValue":t[9]||(t[9]=function(e){return I.form.password=e}),class:"form-control",autocomplete:"chrome-off"},null,8,H),[[n.vModelDynamic,I.form.password]]),I.form.errors.password?((0,n.openBlock)(),(0,n.createElementBlock)("div",R,(0,n.toDisplayString)(I.form.errors.password),1)):(0,n.createCommentVNode)("",!0),U,(0,n.withDirectives)((0,n.createElementVNode)("input",{type:I.passwordType,"onUpdate:modelValue":t[10]||(t[10]=function(e){return I.form.password_confirmation=e}),class:"form-control",autocomplete:"chrome-off"},null,8,G),[[n.vModelDynamic,I.form.password_confirmation]]),(0,n.createElementVNode)("div",L,[(0,n.withDirectives)((0,n.createElementVNode)("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault","onUpdate:modelValue":t[11]||(t[11]=function(e){return I.showPassword=e})},null,512),[[n.vModelCheckbox,I.showPassword]]),j]),I.form.errors.password?((0,n.openBlock)(),(0,n.createElementBlock)("div",A,(0,n.toDisplayString)(I.form.errors.password),1)):(0,n.createCommentVNode)("",!0),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[12]||(t[12]=function(e){return I.form.id=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[n.vModelText,I.form.id]]),(0,n.createElementVNode)("button",{type:"button",class:"btn btn-primary mt-3",onClick:t[13]||(t[13]=function(e){return Z.submit()}),disabled:I.form.processing},"Save changes",8,q)],32)])])],64)}]])}}]);