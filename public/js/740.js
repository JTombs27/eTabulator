"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[740],{5740:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Y});var r=o(821),l={class:"row gap-20 masonry pos-r"},a={class:"peers fxw-nw jc-sb ai-c"},i={class:"col-md-12 p-20 bgc-white bd"},c={key:0,class:"col-12 border-bottom"},n=(0,r.createElementVNode)("div",{class:"col-12 c-info"},[(0,r.createElementVNode)("label",null,[(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-info-square text-info",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),(0,r.createElementVNode)("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})]),(0,r.createElementVNode)("b",null," Ledger of vehicle assigned in this project.")])],-1),d={class:"table table-bordered bg-white",style:{"margin-top":"5px"}},s=(0,r.createElementVNode)("thead",null,[(0,r.createElementVNode)("th",{style:{width:"30%"}},"Vehicle/Plate Number"),(0,r.createElementVNode)("th",{style:{width:"50%"}},"Purpose"),(0,r.createElementVNode)("th",{style:{width:"20%"}},"Period Duration From:To")],-1),m={class:"col-12"},p={class:"peers fxw-nw jc-sb ai-c"},u=(0,r.createElementVNode)("label",{for:"exampleInputEmail1",class:"form-label"},"Project Description",-1),h=[(0,r.createTextVNode)("+ Add Vehicle "),(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-truck-front-fill",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M3.5 0A2.5 2.5 0 0 0 1 2.5v9c0 .818.393 1.544 1 2v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V14h6v1.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2c.607-.456 1-1.182 1-2v-9A2.5 2.5 0 0 0 12.5 0h-9ZM3 3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3.9c0 .625-.562 1.092-1.17.994C10.925 7.747 9.208 7.5 8 7.5c-1.208 0-2.925.247-3.83.394A1.008 1.008 0 0 1 3 6.9V3Zm1 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm8 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-5-2a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2H7Z"})],-1)],f={class:"col-12",style:{"margin-top":"5px"}},v={class:"form-text text-danger"},V={class:"col-12 mb-1"},N={class:"row"},E={class:"col-7"},g=(0,r.createElementVNode)("label",{for:""},"Municipality Selection",-1),b={class:"col-5"},y=(0,r.createElementVNode)("label",{for:""},"Barangay Selection",-1),k={key:1,class:"col-12"},w={class:"col-12 bgc-white p-10 border-top",style:{"margin-top":"10px"}},x={class:"row"},_={class:"col-6"},B=(0,r.createElementVNode)("label",{for:""},"Vehicle Selection",-1),D={key:0,class:"form-text text-danger"},G={class:"col-3"},C=(0,r.createElementVNode)("label",{for:""},"Period From",-1),S=["onUpdate:modelValue"],j={key:0,class:"form-text text-danger"},M={key:1,class:"form-text text-danger"},T={class:"col-3"},U={class:"peers fxw-nw jc-sb ai-c"},P=(0,r.createElementVNode)("label",{for:""},"Period To ",-1),A=["onClick"],Z=[(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",style:{"font-size":"18px","font-weight":"bolder",color:"red"},fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1)],F=["onUpdate:modelValue","disabled"],X={key:0,class:"form-text text-danger"},z={key:1,class:"form-text text-danger"},L={class:"row"},O={class:"col-12"},H=(0,r.createElementVNode)("label",{for:""},"Purpose",-1),I=["onUpdate:modelValue"],q={key:0,class:"form-text text-danger"},J={class:"row"},K={class:"col-12"},Q=["disabled"];var R=o(9038);const W={props:{editData:Object,project:Object,can:Object},data:function(){return{form:(0,R.cI)({description:"",municipality_code:"",barangay_code:"",id:null}),vehiclesGroup:[],vehicles:[],pageTitle:"Add",municipalities:[],barangayGroups:[]}},mounted:function(){void 0!==this.editData?(this.pageTitle="Edit",this.form.description=this.editData.description,this.form.id=this.editData.id,this.form.municipality_code=this.editData.municipality_code,this.form.barangay_code=this.editData.barangay_code,this.vehiclesGroup=this.editData.project_vehicles,this.loadBarangays(this.editData.municipality_code)):this.pageTitle="Add",this.loadVehicles(),this.loadMunicipality()},methods:{addNew:function(){this.vehiclesGroup.push((0,R.cI)({vehicle_id:"",date_from:"",date_to:"",purpose:"",project_id:"",id:null}))},removeNode:function(e){this.vehiclesGroup.splice(e,1)},submit:function(){var e=this;void 0!==this.editData?(this.form.transform((function(t){return{data:t,vehiclesGroup:e.vehiclesGroup}})),this.form.post("/projects/update-project",this.form)):(this.form.transform((function(t){return{data:t,vehiclesGroup:e.vehiclesGroup}})),this.form.post("/projects/create-project",this.form))},loadVehicles:function(){var e=this;axios.get("/projects-vehicle/vehicles").then((function(t){var o=[];t.data.forEach((function(t){(void 0!==e.editData||"Good Condition"==t.condition.condition)&&o.push(t)})),e.vehicles=o}))},loadMunicipality:function(){var e=this;axios.post("/municipalities").then((function(t){e.municipalities=t.data}))},loadBarangays:function(e){var t=this;axios.post("/barangays",{citymunCode:e}).then((function(e){t.barangayGroups=e.data}))}}};const Y=(0,o(3744).Z)(W,[["render",function(e,t,o,R,W,Y){var $=(0,r.resolveComponent)("back-button"),ee=(0,r.resolveComponent)("Select2");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(W.pageTitle)+" Project ",1),(0,r.createVNode)($,{href:"/projects"})])]),(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("form",{onSubmit:t[6]||(t[6]=(0,r.withModifiers)((function(e){return Y.submit()}),["prevent"])),id:"mainForm"},[void 0!==o.editData&&W.vehiclesGroup.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",c,[n,(0,r.createElementVNode)("table",d,[s,(0,r.createElementVNode)("tbody",null,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(W.vehiclesGroup,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("tr",{key:t},[(0,r.createElementVNode)("td",null,(0,r.toDisplayString)(e.vehicles.PLATENO),1),(0,r.createElementVNode)("td",null,(0,r.toDisplayString)(e.purpose),1),(0,r.createElementVNode)("td",null,(0,r.toDisplayString)(e.date_from+" To "+e.date_to),1)])})),128))])])])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",m,[(0,r.createElementVNode)("div",p,[u,void 0===o.editData?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,type:"button",onClick:t[0]||(t[0]=function(e){return Y.addNew()}),class:"btn btn-sm btn-outline-primary"},h)):(0,r.createCommentVNode)("",!0)])]),(0,r.createElementVNode)("div",f,[(0,r.withDirectives)((0,r.createElementVNode)("textarea",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return W.form.description=e}),id:"description"},null,512),[[r.vModelText,W.form.description]]),(0,r.createElementVNode)("div",v,(0,r.toDisplayString)(W.form.errors["data.description"]),1)]),(0,r.createElementVNode)("div",V,[(0,r.createElementVNode)("div",N,[(0,r.createElementVNode)("div",E,[g,(0,r.createVNode)(ee,{modelValue:W.form.municipality_code,"onUpdate:modelValue":t[2]||(t[2]=function(e){return W.form.municipality_code=e}),options:W.municipalities,onSelect:t[3]||(t[3]=function(e){return Y.loadBarangays(W.form.municipality_code)})},null,8,["modelValue","options"])]),(0,r.createElementVNode)("div",b,[y,(0,r.createVNode)(ee,{modelValue:W.form.barangay_code,"onUpdate:modelValue":t[4]||(t[4]=function(e){return W.form.barangay_code=e}),options:W.barangayGroups},null,8,["modelValue","options"])])])]),void 0===o.editData?((0,r.openBlock)(),(0,r.createElementBlock)("div",k,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(W.vehiclesGroup,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"row",key:t},[(0,r.createElementVNode)("div",w,[(0,r.createElementVNode)("div",x,[(0,r.createElementVNode)("div",_,[B,(0,r.createVNode)(ee,{modelValue:e.vehicle_id,"onUpdate:modelValue":function(t){return e.vehicle_id=t},options:W.vehicles},null,8,["modelValue","onUpdate:modelValue","options"]),W.form.errors["vehiclesGroup."+t+".vehicle_id"]||W.form.errors["vehiclesGroup."+t+".vehicle_idX"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",D,(0,r.toDisplayString)(W.form.errors["vehiclesGroup."+t+".vehicle_id"]||W.form.errors["vehiclesGroup."+t+".vehicle_idX"]),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",G,[C,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"date","onUpdate:modelValue":function(t){return e.date_from=t},class:"form-control",autocomplete:"chrome-off"},null,8,S),[[r.vModelText,e.date_from]]),W.form.errors["vehiclesGroup."+t+".date_from"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",j,(0,r.toDisplayString)(W.form.errors["vehiclesGroup."+t+".date_from"]),1)):(0,r.createCommentVNode)("",!0),W.form.errors["vehiclesGroup."+t+".date_fromX"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",M,(0,r.toDisplayString)(W.form.errors["vehiclesGroup."+t+".date_fromX"]),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",T,[(0,r.createElementVNode)("div",U,[P,(0,r.createElementVNode)("span",{onClick:function(e){return Y.removeNode(t)},style:{"margin-top":"-10px"}},Z,8,A)]),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"date","onUpdate:modelValue":function(t){return e.date_to=t},disabled:void 0!==o.editData,class:"form-control",autocomplete:"chrome-off"},null,8,F),[[r.vModelText,e.date_to]]),W.form.errors["vehiclesGroup."+t+".date_to"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",X,(0,r.toDisplayString)(W.form.errors["vehiclesGroup."+t+".date_to"]),1)):(0,r.createCommentVNode)("",!0),W.form.errors["vehiclesGroup."+t+".date_toX"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",z,(0,r.toDisplayString)(W.form.errors["vehiclesGroup."+t+".date_toX"]),1)):(0,r.createCommentVNode)("",!0)])]),(0,r.createElementVNode)("div",L,[(0,r.createElementVNode)("div",O,[H,(0,r.withDirectives)((0,r.createElementVNode)("textarea",{type:"text","onUpdate:modelValue":function(t){return e.purpose=t},class:"form-control",autocomplete:"chrome-off"},null,8,I),[[r.vModelText,e.purpose]]),W.form.errors["vehiclesGroup."+t+".purpose"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",q,(0,r.toDisplayString)(W.form.errors["vehiclesGroup."+t+".purpose"]),1)):(0,r.createCommentVNode)("",!0)])])])])})),128))])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",J,[(0,r.createElementVNode)("div",K,[(0,r.createElementVNode)("button",{type:"button",class:"btn btn-primary pull-right",onClick:t[5]||(t[5]=function(e){return Y.submit()}),disabled:W.form.processing},(0,r.toDisplayString)("Add"==W.pageTitle?"Save/Create":"Save Changes"),9,Q)])])],32)])],64)}]])}}]);