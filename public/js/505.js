"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[505],{9505:(e,t,o)=>{o.r(t),o.d(t,{default:()=>B});var r=o(821),a={class:"row gap-20 masonry pos-r"},n={class:"peers fxw-nw jc-sb ai-c"},s=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),l={class:"col-md-8"},i=(0,r.createElementVNode)("label",{for:""},"Names",-1),c={key:0,class:"fs-6 c-red-500"},m=(0,r.createElementVNode)("label",{for:""},"Office",-1),d={key:1,class:"fs-6 c-red-500"},f=(0,r.createElementVNode)("label",{for:""},"Permission",-1),u=[(0,r.createElementVNode)("option",{value:"PGO"},"Admin",-1),(0,r.createElementVNode)("option",{value:"RO"},"Requestioning Office",-1),(0,r.createElementVNode)("option",{value:"PGSO"},"PGSO",-1),(0,r.createElementVNode)("option",{value:"PG-Head"},"PG-Head",-1)],p={key:2,class:"fs-6 c-red-500"},h=(0,r.createElementVNode)("label",{for:""},"Username",-1),g={key:3,class:"fs-6 c-red-500"},v=(0,r.createElementVNode)("label",{for:""},"Password",-1),w=["type"],V={key:4,class:"fs-6 c-red-500"},y=(0,r.createElementVNode)("label",{for:""},"Confirm Password",-1),N=["type"],b={class:"form-check"},k=(0,r.createElementVNode)("label",{class:"form-check-label",for:"flexCheckDefault"}," Show Password ",-1),E={key:5,class:"fs-6 c-red-500"},D=["disabled"];var x=o(9038),C=o(9669),_=o.n(C);const S={props:{editData:Object},data:function(){return{form:(0,x.cI)({permission:"",name:"",citymunCode:"",brgyCode:"",purok_id:"",email:"",password:"",password_confirmation:"",username:"",cats:null,id:null,office_id:null}),municipals:[],barangays:[],offices:[],employees:[],testValue:"",pageTitle:"",showPassword:null,loading:!1,passwordType:"password"}},mounted:function(){void 0!==this.editData?(this.loading=!0,this.pageTitle="Edit",this.form.name=this.editData.name,this.form.username=this.editData.username,this.form.email=this.editData.email,this.form.id=this.editData.id,this.form.permission=this.editData.role):this.pageTitle="Create",$("#emp_name").select2({ajax:{url:"http://192.168.9.101:91//api/PGDDO_Employees",dataType:"json",delay:700,data:function(e){return{filter:e.term}},processResults:function(e,t){return t.page=t.page||1,{results:$.map(e,(function(e){return{id:e.employee_name,text:e.employee_name,cats:e.empl_id,data:e.empl_photo_img.data,position:e.position_long_title}}))}},cache:!0},data:[{text:this.form.name,id:this.form.name,selected:!0}],placeholder:"Search for a repository",minimumInputLength:3,templateResult:this.formatRepo,templateSelection:this.formatRepoSelection}),$("#office").select2({ajax:{url:"/offices/fetch",dataType:"json",delay:500,data:function(e){return{filter:e.term}},processResults:function(e,t){return t.page=t.page||1,{results:$.map(e,(function(e){return{id:e.id,text:e.text}}))}},cache:!0},minimumInputLength:2})},methods:{selectName:function(e){console.log(e),this.form.cats=e.cats},formatRepo:function(e){if(e.loading)return e.text;var t="";return console.log(e.isNull),t=e.data?" <img class='bd-placeholder-img flex-shrink-0 me-2 rounded'  width='60' src='data:image/png;base64,".concat(e.data,"'/>"):'<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-person-square bd-placeholder-img flex-shrink-0 me-2 rounded" viewBox="0 0 16 16">\n              <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>\n              <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z"/>\n            </svg>',$('<div class="d-flex pt-3">\n               '.concat(t,'\n              <p class="pb-3 mb-0 small lh-sm border-bottom">\n                <strong class="d-block">').concat(e.id,'</strong>\n                <strong class="d-block">').concat(e.cats,"</strong>\n                    ").concat(e.position,"\n              </p>\n            </div>\n           "))},formatRepoSelection:function(e){return e.employee_name||e.text},myChangeEvent:function(e){console.log(e)},submit:function(){void 0!==this.editData?this.form.patch("/users/"+this.form.id,this.form):this.form.post("/users",this.form)},loadMunicipals:function(){var e=this;_().post("/municipalities").then((function(t){e.municipals=t.data}))},loadBarangays:function(){var e=this;_().post("/barangays",{citymunCode:this.form.citymunCode}).then((function(t){e.barangays=t.data,e.puroks=[]}))},loadOffices:function(){var e=this;_().get("/offices/fetch").then((function(t){e.offices=t.data}))}},watch:{showPassword:function(e){this.passwordType=e?"text":"password"}}};const B=(0,o(3744).Z)(S,[["render",function(e,t,o,x,C,_){var S=(0,r.resolveComponent)("Head"),B=(0,r.resolveComponent)("Link"),P=(0,r.resolveComponent)("Select2");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(S,null,{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("title",null,(0,r.toDisplayString)(C.pageTitle)+" users",1)]})),_:1}),(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(C.pageTitle)+" users",1),(0,r.createVNode)(B,{href:"/users"},{default:(0,r.withCtx)((function(){return[s]})),_:1})]),(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("form",{onSubmit:t[10]||(t[10]=(0,r.withModifiers)((function(e){return _.submit()}),["prevent"]))},[i,(0,r.createVNode)(P,{modelValue:C.form.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return C.form.name=e}),id:"emp_name",onSelect:t[1]||(t[1]=function(e){return _.selectName(e)})},null,8,["modelValue"]),C.form.errors.name?((0,r.openBlock)(),(0,r.createElementBlock)("div",c,(0,r.toDisplayString)(C.form.errors.name),1)):(0,r.createCommentVNode)("",!0),m,(0,r.createVNode)(P,{modelValue:C.form.office_id,"onUpdate:modelValue":t[2]||(t[2]=function(e){return C.form.office_id=e}),id:"office"},null,8,["modelValue"]),C.form.errors.office_id?((0,r.openBlock)(),(0,r.createElementBlock)("div",d,(0,r.toDisplayString)(C.form.errors.office_id),1)):(0,r.createCommentVNode)("",!0),f,(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=function(e){return C.form.permission=e})},u,512),[[r.vModelSelect,C.form.permission]]),C.form.errors.permission?((0,r.openBlock)(),(0,r.createElementBlock)("div",p,(0,r.toDisplayString)(C.form.errors.permission),1)):(0,r.createCommentVNode)("",!0),h,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return C.form.username=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[r.vModelText,C.form.username]]),C.form.errors.username?((0,r.openBlock)(),(0,r.createElementBlock)("div",g,(0,r.toDisplayString)(C.form.errors.username),1)):(0,r.createCommentVNode)("",!0),v,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:C.passwordType,"onUpdate:modelValue":t[5]||(t[5]=function(e){return C.form.password=e}),class:"form-control",autocomplete:"chrome-off"},null,8,w),[[r.vModelDynamic,C.form.password]]),C.form.errors.password?((0,r.openBlock)(),(0,r.createElementBlock)("div",V,(0,r.toDisplayString)(C.form.errors.password),1)):(0,r.createCommentVNode)("",!0),y,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:C.passwordType,"onUpdate:modelValue":t[6]||(t[6]=function(e){return C.form.password_confirmation=e}),class:"form-control",autocomplete:"chrome-off"},null,8,N),[[r.vModelDynamic,C.form.password_confirmation]]),(0,r.createElementVNode)("div",b,[(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault","onUpdate:modelValue":t[7]||(t[7]=function(e){return C.showPassword=e})},null,512),[[r.vModelCheckbox,C.showPassword]]),k]),C.form.errors.password?((0,r.openBlock)(),(0,r.createElementBlock)("div",E,(0,r.toDisplayString)(C.form.errors.password),1)):(0,r.createCommentVNode)("",!0),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[8]||(t[8]=function(e){return C.form.id=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[r.vModelText,C.form.id]]),(0,r.createElementVNode)("button",{type:"button",class:"btn btn-primary mt-3",onClick:t[9]||(t[9]=function(e){return _.submit()}),disabled:C.form.processing},"Save changes",8,D)],32)])])],64)}]])}}]);