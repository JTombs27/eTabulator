"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[328],{4328:(e,t,o)=>{o.r(t),o.d(t,{default:()=>q});var r=o(821),l={class:"row gap-20 masonry pos-r"},a={class:"peers fxw-nw jc-sb ai-c"},c={class:"col-md-12 p-20 bgc-white bd"},i={key:0,class:"col-12 border-bottom"},n=(0,r.createElementVNode)("div",{class:"col-12 c-info"},[(0,r.createElementVNode)("label",null,[(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-info-square text-info",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),(0,r.createElementVNode)("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})]),(0,r.createElementVNode)("b",null," Ledger of vehicle assigned in this project.")])],-1),d={class:"table table-bordered bg-white",style:{"margin-top":"5px"}},s=(0,r.createElementVNode)("thead",null,[(0,r.createElementVNode)("th",{style:{width:"30%"}},"Vehicle/Plate Number"),(0,r.createElementVNode)("th",{style:{width:"50%"}},"Purpose"),(0,r.createElementVNode)("th",{style:{width:"20%"}},"Period Duration From:To")],-1),m={class:"col-12"},p={class:"peers fxw-nw jc-sb ai-c"},u=(0,r.createElementVNode)("label",{for:"exampleInputEmail1",class:"form-label"},"Project Description",-1),h=[(0,r.createTextVNode)("+ Add Vehicle "),(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-truck-front-fill",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M3.5 0A2.5 2.5 0 0 0 1 2.5v9c0 .818.393 1.544 1 2v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V14h6v1.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2c.607-.456 1-1.182 1-2v-9A2.5 2.5 0 0 0 12.5 0h-9ZM3 3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3.9c0 .625-.562 1.092-1.17.994C10.925 7.747 9.208 7.5 8 7.5c-1.208 0-2.925.247-3.83.394A1.008 1.008 0 0 1 3 6.9V3Zm1 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm8 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-5-2a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2H7Z"})],-1)],v={class:"col-12",style:{"margin-top":"5px"}},f={class:"form-text text-danger"},V={key:1,class:"col-12"},E={class:"col-12 bgc-white p-10 border-top",style:{"margin-top":"10px"}},N={class:"row"},g={class:"col-6"},b=(0,r.createElementVNode)("label",{for:""},"Vehicle Selection",-1),k={key:0,class:"form-text text-danger"},w={class:"col-3"},x=(0,r.createElementVNode)("label",{for:""},"Period From",-1),y=["onUpdate:modelValue"],B={key:0,class:"form-text text-danger"},D={key:1,class:"form-text text-danger"},G={class:"col-3"},_={class:"peers fxw-nw jc-sb ai-c"},C=(0,r.createElementVNode)("label",{for:""},"Period To ",-1),j=["onClick"],S=[(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",style:{"font-size":"18px","font-weight":"bolder",color:"red"},fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1)],T=["onUpdate:modelValue","disabled"],M={key:0,class:"form-text text-danger"},P={key:1,class:"form-text text-danger"},U={class:"row"},A={class:"col-12"},Z=(0,r.createElementVNode)("label",{for:""},"Purpose",-1),F=["onUpdate:modelValue"],X={key:0,class:"form-text text-danger"},z={class:"row"},L={class:"col-12"},O=["disabled"];var H=o(9038);const I={props:{editData:Object,project:Object,can:Object},data:function(){return{form:(0,H.cI)({description:"",id:null}),vehiclesGroup:[],vehicles:[],pageTitle:"Add"}},mounted:function(){void 0!==this.editData?(this.pageTitle="Edit",this.form.description=this.editData.description,this.form.id=this.editData.id,this.vehiclesGroup=this.editData.project_vehicles):this.pageTitle="Add",this.loadVehicles()},methods:{addNew:function(){this.vehiclesGroup.push((0,H.cI)({vehicle_id:"",date_from:"",date_to:"",purpose:"",project_id:"",id:null}))},removeNode:function(e){this.vehiclesGroup.splice(e,1)},submit:function(){var e=this;void 0!==this.editData?(this.form.transform((function(t){return{data:t,vehiclesGroup:e.vehiclesGroup}})),this.form.post("/projects/update-project",this.form)):(this.form.transform((function(t){return{data:t,vehiclesGroup:e.vehiclesGroup}})),this.form.post("/projects/create-project",this.form))},loadVehicles:function(){var e=this;axios.get("/projects-vehicle/vehicles").then((function(t){var o=[];t.data.forEach((function(t){(void 0!==e.editData||"Good Condition"==t.condition.condition)&&o.push(t)})),e.vehicles=o}))}}};const q=(0,o(3744).Z)(I,[["render",function(e,t,o,H,I,q){var J=(0,r.resolveComponent)("back-button"),K=(0,r.resolveComponent)("Select2");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(I.pageTitle)+" Project ",1),(0,r.createVNode)(J,{href:"/projects"})])]),(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("form",{onSubmit:t[3]||(t[3]=(0,r.withModifiers)((function(e){return q.submit()}),["prevent"])),id:"mainForm"},[void 0!==o.editData&&I.vehiclesGroup.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",i,[n,(0,r.createElementVNode)("table",d,[s,(0,r.createElementVNode)("tbody",null,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(I.vehiclesGroup,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("tr",{key:t},[(0,r.createElementVNode)("td",null,(0,r.toDisplayString)(e.vehicles.PLATENO),1),(0,r.createElementVNode)("td",null,(0,r.toDisplayString)(e.purpose),1),(0,r.createElementVNode)("td",null,(0,r.toDisplayString)(e.date_from+" To "+e.date_to),1)])})),128))])])])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",m,[(0,r.createElementVNode)("div",p,[u,void 0===o.editData?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,type:"button",onClick:t[0]||(t[0]=function(e){return q.addNew()}),class:"btn btn-sm btn-outline-primary"},h)):(0,r.createCommentVNode)("",!0)])]),(0,r.createElementVNode)("div",v,[(0,r.withDirectives)((0,r.createElementVNode)("textarea",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return I.form.description=e}),id:"description"},null,512),[[r.vModelText,I.form.description]]),(0,r.createElementVNode)("div",f,(0,r.toDisplayString)(I.form.errors["data.description"]),1)]),void 0===o.editData?((0,r.openBlock)(),(0,r.createElementBlock)("div",V,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(I.vehiclesGroup,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"row",key:t},[(0,r.createElementVNode)("div",E,[(0,r.createElementVNode)("div",N,[(0,r.createElementVNode)("div",g,[b,(0,r.createVNode)(K,{modelValue:e.vehicle_id,"onUpdate:modelValue":function(t){return e.vehicle_id=t},options:I.vehicles},null,8,["modelValue","onUpdate:modelValue","options"]),I.form.errors["vehiclesGroup."+t+".vehicle_id"]||I.form.errors["vehiclesGroup."+t+".vehicle_idX"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",k,(0,r.toDisplayString)(I.form.errors["vehiclesGroup."+t+".vehicle_id"]||I.form.errors["vehiclesGroup."+t+".vehicle_idX"]),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",w,[x,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"date","onUpdate:modelValue":function(t){return e.date_from=t},class:"form-control",autocomplete:"chrome-off"},null,8,y),[[r.vModelText,e.date_from]]),I.form.errors["vehiclesGroup."+t+".date_from"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",B,(0,r.toDisplayString)(I.form.errors["vehiclesGroup."+t+".date_from"]),1)):(0,r.createCommentVNode)("",!0),I.form.errors["vehiclesGroup."+t+".date_fromX"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",D,(0,r.toDisplayString)(I.form.errors["vehiclesGroup."+t+".date_fromX"]),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",G,[(0,r.createElementVNode)("div",_,[C,(0,r.createElementVNode)("span",{onClick:function(e){return q.removeNode(t)},style:{"margin-top":"-10px"}},S,8,j)]),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"date","onUpdate:modelValue":function(t){return e.date_to=t},disabled:void 0!==o.editData,class:"form-control",autocomplete:"chrome-off"},null,8,T),[[r.vModelText,e.date_to]]),I.form.errors["vehiclesGroup."+t+".date_to"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",M,(0,r.toDisplayString)(I.form.errors["vehiclesGroup."+t+".date_to"]),1)):(0,r.createCommentVNode)("",!0),I.form.errors["vehiclesGroup."+t+".date_toX"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",P,(0,r.toDisplayString)(I.form.errors["vehiclesGroup."+t+".date_toX"]),1)):(0,r.createCommentVNode)("",!0)])]),(0,r.createElementVNode)("div",U,[(0,r.createElementVNode)("div",A,[Z,(0,r.withDirectives)((0,r.createElementVNode)("textarea",{type:"text","onUpdate:modelValue":function(t){return e.purpose=t},class:"form-control",autocomplete:"chrome-off"},null,8,F),[[r.vModelText,e.purpose]]),I.form.errors["vehiclesGroup."+t+".purpose"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",X,(0,r.toDisplayString)(I.form.errors["vehiclesGroup."+t+".purpose"]),1)):(0,r.createCommentVNode)("",!0)])])])])})),128))])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",z,[(0,r.createElementVNode)("div",L,[(0,r.createElementVNode)("button",{type:"button",class:"btn btn-primary pull-right",onClick:t[2]||(t[2]=function(e){return q.submit()}),disabled:I.form.processing},(0,r.toDisplayString)("Add"==I.pageTitle?"Save/Create":"Save Changes"),9,O)])])],32)])],64)}]])}}]);