"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[14],{9082:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(3645),a=o.n(n)()((function(e){return e[1]}));a.push([e.id,".dot-typing[data-v-1a03b163]{-webkit-animation:dotTyping-1a03b163 1.5s linear infinite;animation:dotTyping-1a03b163 1.5s linear infinite;background-color:#9880ff;border-radius:5px;box-shadow:9984px 0 0 0 #9880ff,9999px 0 0 0 #9880ff,10014px 0 0 0 #9880ff;color:#9880ff;height:10px;left:-9999px;position:relative;width:10px}@-webkit-keyframes dotTyping-1a03b163{0%{box-shadow:9984px 0 0 0 #9880ff,9999px 0 0 0 #9880ff,10014px 0 0 0 #9880ff}16.667%{box-shadow:9984px -10px 0 0 #9880ff,9999px 0 0 0 #9880ff,10014px 0 0 0 #9880ff}33.333%{box-shadow:9984px 0 0 0 #9880ff,9999px 0 0 0 #9880ff,10014px 0 0 0 #9880ff}50%{box-shadow:9984px 0 0 0 #9880ff,9999px -10px 0 0 #9880ff,10014px 0 0 0 #9880ff}66.667%{box-shadow:9984px 0 0 0 #9880ff,9999px 0 0 0 #9880ff,10014px 0 0 0 #9880ff}83.333%{box-shadow:9984px 0 0 0 #9880ff,9999px 0 0 0 #9880ff,10014px -10px 0 0 #9880ff}to{box-shadow:9984px 0 0 0 #9880ff,9999px 0 0 0 #9880ff,10014px 0 0 0 #9880ff}}@keyframes dotTyping-1a03b163{0%{box-shadow:9984px 0 0 0 #9880ff,9999px 0 0 0 #9880ff,10014px 0 0 0 #9880ff}16.667%{box-shadow:9984px -10px 0 0 #9880ff,9999px 0 0 0 #9880ff,10014px 0 0 0 #9880ff}33.333%{box-shadow:9984px 0 0 0 #9880ff,9999px 0 0 0 #9880ff,10014px 0 0 0 #9880ff}50%{box-shadow:9984px 0 0 0 #9880ff,9999px -10px 0 0 #9880ff,10014px 0 0 0 #9880ff}66.667%{box-shadow:9984px 0 0 0 #9880ff,9999px 0 0 0 #9880ff,10014px 0 0 0 #9880ff}83.333%{box-shadow:9984px 0 0 0 #9880ff,9999px 0 0 0 #9880ff,10014px -10px 0 0 #9880ff}to{box-shadow:9984px 0 0 0 #9880ff,9999px 0 0 0 #9880ff,10014px 0 0 0 #9880ff}}",""]);const r=a},4014:(e,t,o)=>{o.r(t),o.d(t,{default:()=>z});var n=o(821),a=function(e){return(0,n.pushScopeId)("data-v-1a03b163"),e=e(),(0,n.popScopeId)(),e},r=a((function(){return(0,n.createElementVNode)("title",null,"Travels",-1)})),l={class:"row gap-10 masonry pos-r"},c={class:"peers fxw-nw jc-sb ai-c"},s=a((function(){return(0,n.createElementVNode)("h3",null,"Travels",-1)})),d={class:"peers"},i=a((function(){return(0,n.createElementVNode)("div",{class:"peer mR-10"},null,-1)})),p={key:0,class:"peer"},f=(0,n.createTextVNode)("Add Travel"),u={class:"col-12"},m={class:"bgc-white p-20 bd"},x={class:"table table-hover"},b=a((function(){return(0,n.createElementVNode)("thead",null,[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("th",{scope:"col"},"Vehicle"),(0,n.createElementVNode)("th",{scope:"col"},"Driver"),(0,n.createElementVNode)("th",{scope:"col"},"Date"),(0,n.createElementVNode)("th",{scope:"col"},"Status"),(0,n.createElementVNode)("th",{scope:"col"},"Office id"),(0,n.createElementVNode)("th",{scope:"col",style:{"text-align":"right"}},"Action")])],-1)})),h={key:0},v={key:1},w={key:2},k={key:3},E=["innerHTML"],N={style:{"text-align":"right"}},V={class:"dropdown dropstart"},g=a((function(){return(0,n.createElementVNode)("button",{class:"btn btn-secondary btn-sm action-btn",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-three-dots",viewBox:"0 0 16 16"},[(0,n.createElementVNode)("path",{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"})])],-1)})),y=["id"],B=(0,n.createTextVNode)("Edit"),C={key:0},D=["onClick"],S=[a((function(){return(0,n.createElementVNode)("span",null,"Trip Ticket",-1)}))],_={key:1},T=["onClick"],F=[a((function(){return(0,n.createElementVNode)("span",{class:"text-success"},"Approve",-1)}))],A={key:2},I=["onClick"],M=[a((function(){return(0,n.createElementVNode)("span",{class:"text-danger"},"Disapprove",-1)}))],j=a((function(){return(0,n.createElementVNode)("div",{class:"row justify-content-center"},[(0,n.createElementVNode)("div",{class:"col-md-12"})],-1)}));const L={props:{can:Object,travels:Object,user:Object},data:function(){return{loader:!1,itemId:"",dropdownOption:"outside"}},methods:{approvedStatus:function(e,t){var o=this;this.$inertia.post("/travels/set-status",{id:e.id,status:t},{onStart:function(t){o.loader=!0,o.itemId=e.id},onFinish:function(){o.loader=!1}})},tripTicket:function(e){window.open("http://192.168.6.23:8080/jasperserver/flow.html?pp=u%3DJamshasadid%7Cr%3DManager%7Co%3DEMEA,Sales%7Cpa1%3DSweden&_flowId=viewReportFlow&_flowId=viewReportFlow&_flowId=viewReportFlow&ParentFolderUri=%2Freports%2Ffuel_monitoring&reportUnit=%2Freports%2Ffuel_monitoring%2Ftrip_ticket&standAlone=true&decorate=no&id="+e,"_blank")},statusDisplay:function(e){if(this.loader&&e.id==this.itemId)return'<span v-if="loader" class="dropdown-item">\n                    <div class="spinner-border spinner-border-sm" role="status">\n                      <span class="visually-hidden"></span>\n                    </div>\n                    Processing...\n                </span>';var t="";return t="Approved"==e.status?"badge bg-success":"Disapproved"==e.status?"badge bg-danger":"badge bg-secondary",'<span class="'.concat(t,'">').concat(this.status(e.status),"</span>")}},mounted:function(){console.log()},computed:{mi:function(){return function(e){return e?"".concat(e.charAt(0),"."):""}},status:function(){return function(e){return"Approved"==e?"Approved":e?"Disapproved"==e?"Disapproved":void 0:"Pending"}}}};var O=o(3379),P=o.n(O),R=o(9082),Z={insert:"head",singleton:!1};P()(R.Z,Z);R.Z.locals;const z=(0,o(3744).Z)(L,[["render",function(e,t,o,a,L,O){var P=(0,n.resolveComponent)("Head"),R=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(P,null,{default:(0,n.withCtx)((function(){return[r]})),_:1}),(0,n.createElementVNode)("div",l,[(0,n.createElementVNode)("div",c,[s,(0,n.createElementVNode)("div",d,[i,o.can.canCreateTravel?((0,n.openBlock)(),(0,n.createElementBlock)("div",p,[(0,n.createVNode)(R,{class:"btn btn-primary btn-sm",href:"/travels/create"},{default:(0,n.withCtx)((function(){return[f]})),_:1}),(0,n.createElementVNode)("button",{class:"btn btn-primary btn-sm mL-2 text-white",onClick:t[0]||(t[0]=function(t){return e.showFilter()})},"Filter")])):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",u,[(0,n.createElementVNode)("div",m,[(0,n.createElementVNode)("table",x,[b,(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.travels,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:t},[(0,n.createElementVNode)("td",null,[(0,n.createTextVNode)((0,n.toDisplayString)(e.FDESC)+" ",1),(0,n.createElementVNode)("strong",null,"("+(0,n.toDisplayString)(e.PLATENO)+")",1)]),e.actual_driver?((0,n.openBlock)(),(0,n.createElementBlock)("td",h,(0,n.toDisplayString)(e.actual_driver),1)):((0,n.openBlock)(),(0,n.createElementBlock)("td",v,(0,n.toDisplayString)("".concat(e.first_name," ").concat(O.mi(e.middle_name)," ").concat(e.last_name)),1)),e.date_to?((0,n.openBlock)(),(0,n.createElementBlock)("td",k,(0,n.toDisplayString)(e.date_from)+" to "+(0,n.toDisplayString)(e.date_to),1)):((0,n.openBlock)(),(0,n.createElementBlock)("td",w,(0,n.toDisplayString)(e.date_from),1)),(0,n.createElementVNode)("td",{innerHTML:O.statusDisplay(e)},null,8,E),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.office_id),1),(0,n.createElementVNode)("td",N,[(0,n.createElementVNode)("div",V,[g,(0,n.createElementVNode)("ul",{class:"dropdown-menu",id:e.id,"aria-labelledby":"dropdownMenuButton1"},[(0,n.createElementVNode)("li",null,[(0,n.createVNode)(R,{class:"dropdown-item",href:"/travels/".concat(e.id,"/edit")},{default:(0,n.withCtx)((function(){return[B]})),_:2},1032,["href"])]),"Approved"==e.status?((0,n.openBlock)(),(0,n.createElementBlock)("li",C,[(0,n.createElementVNode)("button",{as:"button",class:"dropdown-item",onClick:function(t){return O.tripTicket(e.id)}},S,8,D)])):(0,n.createCommentVNode)("",!0),"Disapproved"==e.status||null==e.status?((0,n.openBlock)(),(0,n.createElementBlock)("li",_,[o.can.canSetStatus&&!L.loader?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,as:"button",class:"dropdown-item",onClick:function(t){return O.approvedStatus(e,"Approved")}},F,8,T)):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),"Approved"==e.status||null==e.status?((0,n.openBlock)(),(0,n.createElementBlock)("li",A,[o.can.canSetStatus&&!L.loader?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,as:"button",class:"dropdown-item",onClick:function(t){return O.approvedStatus(e,"Disapproved")}},M,8,I)):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)],8,y)])])])})),128))])]),j])])])],64)}],["__scopeId","data-v-1a03b163"]])}}]);