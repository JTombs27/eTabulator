"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[584],{800:(e,t,o)=>{o.d(t,{Z:()=>r});var l=o(3645),a=o.n(l)()((function(e){return e[1]}));a.push([e.id,"#sidebar-wrapper{height:100%;margin-right:-250px;margin-top:-9px;overflow-y:auto;position:fixed;right:250px;transition:all .5s ease;width:auto;z-index:1000}",""]);const r=a},6584:(e,t,o)=>{o.r(t),o.d(t,{default:()=>pe});var l=o(821),a=(0,l.createElementVNode)("head",null,[(0,l.createElementVNode)("title",null,"Projects")],-1),r={class:"peers fxw-nw jc-sb ai-c"},c=(0,l.createElementVNode)("h1",{style:{"font-size":"20px !important","font-weight":"bold"}},"Projects",-1),n={class:"peers"},i={class:"peer mR-10"},s={class:"peer"},d=["disabled"],p=[(0,l.createElementVNode)("i",{class:"fa fa-add"},null,-1),(0,l.createTextVNode)("Add Project")],m={class:"col-12"},h={class:"bgc-white p-20 bd"},u={class:"table table-hover"},v=(0,l.createElementVNode)("thead",null,[(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("th",{style:{width:"90%"}},"Project Description"),(0,l.createElementVNode)("th",{style:{"text-align":"center",width:"10%"}},"Action")])],-1),V={style:{"padding-top":"5px !important","padding-bottom":"5px !important"}},f={style:{"padding-top":"5px !important","padding-bottom":"5px !important"},class:"text-center"},N={class:"dropdown dropstart"},E=(0,l.createElementVNode)("button",{class:"btn btn-secondary btn-sm action-btn",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-three-dots",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"})])],-1),g={class:"dropdown-menu action-dropdown","aria-labelledby":"dropdownMenuButton1"},b=["disabled","onClick"],w=[(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})],-1),(0,l.createTextVNode)(" Edit ")],k={class:"border-top bg-warning"},x=(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-truck",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})],-1),j={key:0,class:"position-absolute top-20 start-0 translate-middle badge rounded-pill bg-primary"},y=(0,l.createElementVNode)("span",{class:"visually-hidden"},"unread messages",-1),B=(0,l.createTextVNode)(" Vehicle Equepments "),C=(0,l.createElementVNode)("li",null,[(0,l.createElementVNode)("hr",{class:"dropdown-divider action-divider"})],-1),M=["disabled"],D=["onClick","disabled"],P=[(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),(0,l.createElementVNode)("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})],-1),(0,l.createTextVNode)(" Delete ")],G={key:0},z=[(0,l.createElementVNode)("td",{class:"text-center",colspan:"5"},"No Data Found",-1)],S=(0,l.createElementVNode)("div",{class:"row justify-content-center"},[(0,l.createElementVNode)("div",{class:"col-md-12"})],-1),T={class:"col-12"},A=(0,l.createElementVNode)("label",{for:"exampleInputEmail1",class:"form-label"},"Project Description",-1),Z={id:"emailHelp",class:"form-text text-danger"},H={class:"col-12"},F=[(0,l.createTextVNode)("+ Add Vehicle "),(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-truck-front-fill",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{"fill-rule":"evenodd",d:"M3.5 0A2.5 2.5 0 0 0 1 2.5v9c0 .818.393 1.544 1 2v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V14h6v1.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2c.607-.456 1-1.182 1-2v-9A2.5 2.5 0 0 0 12.5 0h-9ZM3 3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3.9c0 .625-.562 1.092-1.17.994C10.925 7.747 9.208 7.5 8 7.5c-1.208 0-2.925.247-3.83.394A1.008 1.008 0 0 1 3 6.9V3Zm1 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm8 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-5-2a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2H7Z"})],-1)],L={class:"col-12"},U={class:"col-12 bgc-white p-10 border-top",style:{"margin-top":"10px"}},I={class:"row"},X={class:"col-12"},O={class:"peers fxw-nw jc-sb ai-c"},q=(0,l.createElementVNode)("label",{for:""},"Vehicle Selection ",-1),R=["onClick"],W=[(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",style:{"font-size":"18px","font-weight":"bolder",color:"red"},fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,l.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1)],J={key:0,class:"fs-6 c-red-500"},K={class:"col-6"},Q=(0,l.createElementVNode)("label",{for:""},"Period From",-1),Y=["onUpdate:modelValue"],ee={key:0,class:"fs-6 c-red-500"},te={key:1,class:"fs-6 c-red-500"},oe={class:"col-6"},le=(0,l.createElementVNode)("div",{class:"peers fxw-nw jc-sb ai-c"},[(0,l.createElementVNode)("label",{for:""},"Period To ")],-1),ae=["onUpdate:modelValue"],re={key:0,class:"fs-6 c-red-500"},ce={key:1,class:"fs-6 c-red-500"};var ne=o(1175),ie=o(9263),se=o(9038);const de={components:{Pagination:ie.Z,Filtering:ne.Z},props:{projects:Object,filters:Object,can:Object},data:function(){return{form:(0,se.cI)({description:"",id:null}),vehiclesGroup:[],vehicles:[],search:this.$props.filters.search,confirm:!1,filter:!1,showModal:!1,isEdit:!1,projectId:"",description:"",saveMessage:"",myModal:""}},watch:{search:_.debounce((function(e){this.$inertia.get("/projects",{search:e},{preserveScroll:!0,preserveState:!0,replace:!0})}),300)},mounted:function(){void 0!==this.editData?(this.loading=!0,this.pageTitle="Edit",this.vehiclesGroup[0].vehicle_id=this.editData.vehicle_id,this.vehiclesGroup[0].date_from=this.editData.date_from,this.vehiclesGroup[0].date_to=this.editData.date_to,this.vehiclesGroup[0].purpose=this.editData.purpose,this.vehiclesGroup[0].project_id=this.editData.project_id,this.vehiclesGroup[0].id=this.editData.id,this.disableVehicle=!0):(this.pageTitle="Add",this.disableVehicle=!1)},methods:{addNew:function(){this.vehiclesGroup.push((0,se.cI)({vehicle_id:"",date_from:"",date_to:"",purpose:"",project_id:"",id:null}))},removeNode:function(e){this.vehiclesGroup.splice(e,1)},createProject:function(){this.$inertia.get("/projects/create/")},editProjects:function(e){this.$inertia.get("/projects/create/"+e)},deleteProject:function(e){var t=this;1==confirm("WARNING!\nAre you sure you want to delete the record?")&&axios.post("/projects/delete-project",{id:e}).then((function(e){null!=e.data&&("success"==e.data?t.$inertia.reload({only:["projects"]}):saveMessage="*"+e.data)}))},insertProject:function(){var e=this;0==this.isEdit?axios.post("/projects/create-project",this.form).then((function(t){null!=t.data&&("success"==t.data?(e.closeModal(),e.saveMessage="",e.$inertia.reload({only:["projects"]})):e.saveMessage=t.data)})):1==this.isEdit&&axios.post("/projects/update-project",{description:this.description,id:this.projectId}).then((function(t){null!=t.data&&("success"==t.data?(e.closeModal(),e.saveMessage="",e.$inertia.reload({only:["projects"]})):e.saveMessage=t.data)}))},gotToProjectVehicle:function(e){this.$inertia.get("/projects-vehicle/"+e+"/vehicles")},closeModal:function(){$("#modal").hide(),$("body").removeClass("modal-open"),$("body").css("overflow","scroll"),$(".modal-backdrop").remove(),this.showModal=!1},loadVehicles:function(){var e=this;axios.get("/projects-vehicle/vehicles").then((function(t){var o=[];t.data.forEach((function(t){(void 0!==e.editData||"Good Condition"==t.condition.condition)&&o.push(t)})),e.vehicles=o}))}}};const pe=(0,o(3744).Z)(de,[["render",function(e,t,o,_,$,ne){var ie=(0,l.resolveComponent)("Link"),se=(0,l.resolveComponent)("pagination"),de=(0,l.resolveComponent)("Select2"),pe=(0,l.resolveComponent)("Modal");return(0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,[a,(0,l.createElementVNode)("div",r,[c,(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return $.search=e}),type:"text",class:"form-control form-control-sm",placeholder:"Search..."},null,512),[[l.vModelText,$.search]])]),(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("button",{class:"btn btn-primary btn-sm",disabled:!0!==o.can.canCreateProject,href:"#",onClick:t[1]||(t[1]=function(e){return ne.createProject()})},p,8,d)])])]),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("table",u,[v,(0,l.createElementVNode)("tbody",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(o.projects.data,(function(e,t){return(0,l.openBlock)(),(0,l.createElementBlock)("tr",{style:{"padding-top":"0px !important","padding-bottom":"0px !important"},key:t},[(0,l.createElementVNode)("td",V,(0,l.toDisplayString)(e.description),1),(0,l.createElementVNode)("td",f,[(0,l.createElementVNode)("div",N,[E,(0,l.createElementVNode)("ul",g,[(0,l.createElementVNode)("li",null,[(0,l.createElementVNode)("button",{class:"dropdown-item",disabled:!0!==o.can.canEditProject,title:"Edit Project Description!",onClick:function(t){return ne.editProjects(e.id)}},w,8,b)]),(0,l.createElementVNode)("li",k,[(0,l.createVNode)(ie,{class:"dropdown-item",title:"View Vehicle Equepments",onClick:function(t){return ne.gotToProjectVehicle(e.id)}},{default:(0,l.withCtx)((function(){return[x,0!=e.project_vehicles?((0,l.openBlock)(),(0,l.createElementBlock)("span",j,[(0,l.createTextVNode)((0,l.toDisplayString)(e.project_vehicles.length)+" ",1),y])):(0,l.createCommentVNode)("",!0),B]})),_:2},1032,["onClick"])]),C,(0,l.createElementVNode)("li",{title:"Delete Project",class:(0,l.normalizeClass)(!o.can.canDeleteProject||o.can.canDeleteProject&&0!=e.project_vehicles?"":"bg-danger"),disabled:0!=e.project_vehicles||!0!==o.can.canDeleteProject},[(0,l.createElementVNode)("button",{class:"dropdown-item ch-back",onClick:function(t){return ne.deleteProject(e.id)},disabled:!o.can.canDeleteProject||o.can.canDeleteProject&&0!=e.project_vehicles},P,8,D)],10,M)])])])])})),128)),0==o.projects.data?((0,l.openBlock)(),(0,l.createElementBlock)("tr",G,z)):(0,l.createCommentVNode)("",!0)])]),(0,l.createVNode)(se,{next:o.projects.next_page_url,prev:o.projects.prev_page_url},null,8,["next","prev"]),S])]),$.showModal?((0,l.openBlock)(),(0,l.createBlock)(pe,{key:0,modalTitle:"Projects",onCloseModal:ne.closeModal,onSaveModal:ne.insertProject},{default:(0,l.withCtx)((function(){return[(0,l.createElementVNode)("div",T,[A,(0,l.withDirectives)((0,l.createElementVNode)("textarea",{type:"text",class:"form-control",id:"description","onUpdate:modelValue":t[2]||(t[2]=function(e){return $.form.description=e})},null,512),[[l.vModelText,$.form.description]]),(0,l.createElementVNode)("div",Z,(0,l.toDisplayString)($.saveMessage),1)]),(0,l.createElementVNode)("div",H,[(0,l.createElementVNode)("button",{onClick:t[3]||(t[3]=function(e){return ne.addNew()}),class:"btn btn-sm btn-outline-primary pull-right"},F)]),(0,l.createElementVNode)("div",L,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)($.vehiclesGroup,(function(t,o){return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:"row",key:o},[(0,l.createElementVNode)("div",U,[(0,l.createElementVNode)("div",I,[(0,l.createElementVNode)("div",X,[(0,l.createElementVNode)("div",O,[q,void 0===e.editData&&1!==$.vehiclesGroup.length?((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:0,onClick:function(e){return ne.removeNode(o)},style:{"margin-top":"-10px"}},W,8,R)):(0,l.createCommentVNode)("",!0)]),(0,l.createVNode)(de,{modelValue:t.vehicle_id,"onUpdate:modelValue":function(e){return t.vehicle_id=e},settings:{dropdownParent:$.myModal},options:$.vehicles,disabled:e.disableVehicle},null,8,["modelValue","onUpdate:modelValue","settings","options","disabled"]),$.form.errors["vehiclesGroup."+o+".vehicle_id"]||$.form.errors["vehiclesGroup."+o+".vehicle_idX"]?((0,l.openBlock)(),(0,l.createElementBlock)("div",J,(0,l.toDisplayString)($.form.errors["vehiclesGroup."+o+".vehicle_id"]||$.form.errors["vehiclesGroup."+o+".vehicle_idX"]),1)):(0,l.createCommentVNode)("",!0)]),(0,l.createElementVNode)("div",K,[Q,(0,l.withDirectives)((0,l.createElementVNode)("input",{type:"date","onUpdate:modelValue":function(e){return t.date_from=e},class:"form-control",autocomplete:"chrome-off"},null,8,Y),[[l.vModelText,t.date_from]]),$.form.errors["vehiclesGroup."+o+".date_from"]?((0,l.openBlock)(),(0,l.createElementBlock)("div",ee,(0,l.toDisplayString)($.form.errors["vehiclesGroup."+o+".date_from"]),1)):(0,l.createCommentVNode)("",!0),$.form.errors["vehiclesGroup."+o+".date_fromX"]?((0,l.openBlock)(),(0,l.createElementBlock)("div",te,(0,l.toDisplayString)($.form.errors["vehiclesGroup."+o+".date_fromX"]),1)):(0,l.createCommentVNode)("",!0)]),(0,l.createElementVNode)("div",oe,[le,(0,l.withDirectives)((0,l.createElementVNode)("input",{type:"date","onUpdate:modelValue":function(e){return t.date_to=e},class:"form-control",autocomplete:"chrome-off"},null,8,ae),[[l.vModelText,t.date_to]]),$.form.errors["vehiclesGroup."+o+".date_to"]?((0,l.openBlock)(),(0,l.createElementBlock)("div",re,(0,l.toDisplayString)($.form.errors["vehiclesGroup."+o+".date_to"]),1)):(0,l.createCommentVNode)("",!0),$.form.errors["vehiclesGroup."+o+".date_toX"]?((0,l.openBlock)(),(0,l.createElementBlock)("div",ce,(0,l.toDisplayString)($.form.errors["vehiclesGroup."+o+".date_toX"]),1)):(0,l.createCommentVNode)("",!0)])])])])})),128))])]})),_:1},8,["onCloseModal","onSaveModal"])):(0,l.createCommentVNode)("",!0)],64)}]])},1175:(e,t,o)=>{o.d(t,{Z:()=>v});var l=o(821),a={id:"sidebar-wrapper",class:"sidebar-nav nav navbar-inverse"},r={class:"row",style:{width:"380px"}},c={class:"bgc-white"},n={class:"modal-header"},i=(0,l.createElementVNode)("h5",{class:"modal-title",id:"exampleModalLiveLabel"},"Advanced Filtering",-1),s={class:"modal-body"};const d={};var p=o(3379),m=o.n(p),h=o(800),u={insert:"head",singleton:!1};m()(h.Z,u);h.Z.locals;const v=(0,o(3744).Z)(d,[["render",function(e,t,o,d,p,m){return(0,l.openBlock)(),(0,l.createElementBlock)("div",a,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",n,[i,(0,l.createElementVNode)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeFilter")})})]),(0,l.createElementVNode)("div",s,[(0,l.renderSlot)(e.$slots,"default")])])])])}]])},9263:(e,t,o)=>{o.d(t,{Z:()=>d});var l=o(821),a={class:"pagination"},r={class:"page-item"},c=(0,l.createTextVNode)("Previous"),n={class:"page-item"},i=(0,l.createTextVNode)("Next");const s={props:{prev:String,next:String}};const d=(0,o(3744).Z)(s,[["render",function(e,t,o,s,d,p){var m=(0,l.resolveComponent)("Link");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("ul",a,[(0,l.createElementVNode)("li",r,[o.prev?((0,l.openBlock)(),(0,l.createBlock)(m,{key:0,class:"page-link",href:o.prev,"preserve-scroll":""},{default:(0,l.withCtx)((function(){return[c]})),_:1},8,["href"])):((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:1,class:(0,l.normalizeClass)(["page-link",{"text-muted":!o.prev}])},"Previous",2))]),(0,l.createElementVNode)("li",n,[o.next?((0,l.openBlock)(),(0,l.createBlock)(m,{key:0,class:"page-link",href:o.next,"preserve-scroll":""},{default:(0,l.withCtx)((function(){return[i]})),_:1},8,["href"])):((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:1,class:(0,l.normalizeClass)(["page-link",{"text-muted":!o.next}])},"Next",2))])])])}]])}}]);