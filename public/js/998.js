"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[998],{8615:(e,t,o)=>{o.d(t,{Z:()=>a});var r=o(3645),l=o.n(r)()((function(e){return e[1]}));l.push([e.id,".form-check>.form-check-input[data-v-2fa4d536]{float:right;margin-left:5px;margin-right:0}.form-check[data-v-2fa4d536]{padding-left:0}",""]);const a=l},998:(e,t,o)=>{o.r(t),o.d(t,{default:()=>de});var r=o(821),l=function(e){return(0,r.pushScopeId)("data-v-2fa4d536"),e=e(),(0,r.popScopeId)(),e},a={class:"row gap-20 masonry pos-r"},i={class:"peers fxw-nw jc-sb ai-c"},c={class:"col-12"},n=(0,r.createTextVNode)("Project Description: "),d={class:"col-md-12 p-20 bgc-white"},s={class:"row"},u={class:"col-12",style:{"margin-top":"-15px"}},m=[(0,r.createTextVNode)("+ Add Vehicle "),l((function(){return(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-truck-front-fill",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M3.5 0A2.5 2.5 0 0 0 1 2.5v9c0 .818.393 1.544 1 2v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V14h6v1.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2c.607-.456 1-1.182 1-2v-9A2.5 2.5 0 0 0 12.5 0h-9ZM3 3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3.9c0 .625-.562 1.092-1.17.994C10.925 7.747 9.208 7.5 8 7.5c-1.208 0-2.925.247-3.83.394A1.008 1.008 0 0 1 3 6.9V3Zm1 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm8 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-5-2a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2H7Z"})],-1)}))],p={class:"col-12 bgc-white p-10 bd",style:{"margin-top":"10px"}},h={class:"row"},f={class:"col-6"},v=l((function(){return(0,r.createElementVNode)("label",{for:""},"Vehicle Selection",-1)})),V={key:0,class:"fs-6 c-red-500"},b={class:"col-3"},_=l((function(){return(0,r.createElementVNode)("label",{for:""},"Period From",-1)})),g=["onUpdate:modelValue"],k={key:0,class:"fs-6 c-red-500"},N={key:1,class:"fs-6 c-red-500"},E={class:"col-3"},y={class:"peers fxw-nw jc-sb ai-c"},w=l((function(){return(0,r.createElementVNode)("label",{for:""},"Period To ",-1)})),x=["onClick"],G=[l((function(){return(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",style:{"font-size":"18px","font-weight":"bolder",color:"red"},fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1)}))],D=["onUpdate:modelValue"],B={key:0,class:"fs-6 c-red-500"},C={key:1,class:"fs-6 c-red-500"},j={class:"row",style:{"margin-top":"5px"}},S={class:"col-12 border-top border-bottom",style:{"padding-top":"5px","padding-bottom":"6px"}},U={class:"row"},M={class:"col-3"},T=l((function(){return(0,r.createElementVNode)("td",null,[(0,r.createElementVNode)("div",{class:"form-check form-check-inline"},[(0,r.createElementVNode)("label",{class:"form-check-label",for:"borrow_checkbox"},"Check if vehicle is for borrow: ")])],-1)})),Z={class:"form-check form-check-inline"},A=l((function(){return(0,r.createElementVNode)("label",{class:"form-check-label"},null,-1)})),X=["onUpdate:modelValue","checked"],I=l((function(){return(0,r.createElementVNode)("td",null,[(0,r.createElementVNode)("div",{class:"form-check form-check-inline"},[(0,r.createElementVNode)("label",{class:"form-check-label",for:"rental_checkbox"},"Check if borrow includes rental:")])],-1)})),P={class:"form-check form-check-inline"},F=l((function(){return(0,r.createElementVNode)("label",{class:"form-check-label",for:"rental_checkbox"},null,-1)})),O=["onUpdate:modelValue","disabled","checked"],z={class:"col-6"},H=l((function(){return(0,r.createElementVNode)("label",{for:""},"Municipality Selection",-1)})),L={key:0,class:"fs-6 c-red-500"},$={class:"col-3"},q=l((function(){return(0,r.createElementVNode)("label",{for:""},"Barangay Selection",-1)})),J={key:0,class:"fs-6 c-red-500"},K={class:"row"},Q={class:"col-12"},R=l((function(){return(0,r.createElementVNode)("label",{for:""},"Purpose",-1)})),W=["onUpdate:modelValue"],Y={key:0,class:"fs-6 c-red-500"},ee={class:"row"},te={class:"col-12"},oe=["disabled"];var re=o(9038);const le={props:{editData:Object,project:Object},data:function(){return{form:(0,re.cI)(),vehiclesGroup:[{vehicle_id:"",date_from:"",date_to:"",purpose:"",external_borrow_flag:!1,rental_flag:!1,municipality_id:0,barangay_id:0,project_id:this.project.id,id:null}],vehicles:[],municipalities:[],barangayGroups:[[]],testValue:"",pageTitle:"",loading:!1,disableVehicle:!1,backToMyUrl:"/projects-vehicle/"+this.project.id+"/vehicles"}},mounted:function(){this.loadVehicles(),this.loadMunicipality(),void 0!==this.editData?(this.loading=!0,this.pageTitle="Edit",this.vehiclesGroup[0].vehicle_id=this.editData.vehicle_id,this.vehiclesGroup[0].date_from=this.editData.date_from,this.vehiclesGroup[0].date_to=this.editData.date_to,this.vehiclesGroup[0].purpose=this.editData.purpose,this.vehiclesGroup[0].project_id=this.editData.project_id,this.vehiclesGroup[0].external_borrow_flag=this.editData.external_borrow_flag,this.vehiclesGroup[0].rental_flag=this.editData.rental_flag,this.vehiclesGroup[0].municipality_id=this.editData.municipality_id,this.loadBarangays(this.editData.municipality_id,0),this.vehiclesGroup[0].barangay_id=this.editData.barangay_id,this.loa,this.vehiclesGroup[0].id=this.editData.id,this.disableVehicle=!0):(this.pageTitle="Add",this.disableVehicle=!1)},methods:{submit:function(){var e=this;void 0!==this.editData?(this.form.project_id=this.editData.project_id,this.form.transform((function(t){return{data:t,vehiclesGroup:e.vehiclesGroup}})),this.form.post("/projects-vehicle/"+this.project.id+"/update/"+this.editData.id,this.form)):(this.form.project_id=this.project.id,this.form.transform((function(t){return{data:t,vehiclesGroup:e.vehiclesGroup}})),this.form.post("/projects-vehicle/"+this.project.id+"/store",this.form))},addNew:function(){this.vehiclesGroup.push((0,re.cI)({vehicle_id:"",date_from:"",date_to:"",purpose:"",external_borrow_flag:!1,rental_flag:!1,municipality_id:0,barangay_id:0,project_id:this.project.id,id:null})),this.barangayGroups.push([])},removeNode:function(e){this.vehiclesGroup.splice(e,1),this.barangayGroups.splice(e,1)},loadVehicles:function(){var e=this;axios.get("/projects-vehicle/vehicles").then((function(t){var o=[];t.data.forEach((function(t){(void 0!==e.editData||"Good Condition"==t.condition.condition)&&o.push(t)})),e.vehicles=o}))},loadMunicipality:function(){var e=this;axios.post("/municipalities").then((function(t){e.municipalities=t.data}))},loadBarangays:function(e,t){var o=this;axios.post("/barangays",{citymunCode:e}).then((function(e){console.log(e.data),o.barangayGroups[t]=e.data}))},backToMain:function(){this.$inertia.get("/projects-vehicle/"+this.project.id+"/vehicles")}}};var ae=o(3379),ie=o.n(ae),ce=o(8615),ne={insert:"head",singleton:!1};ie()(ce.Z,ne);ce.Z.locals;const de=(0,o(3744).Z)(le,[["render",function(e,t,o,l,re,le){var ae=(0,r.resolveComponent)("back-button"),ie=(0,r.resolveComponent)("Select2");return(0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(re.pageTitle)+" Vehicle ",1),(0,r.createVNode)(ae,{href:re.backToMyUrl},null,8,["href"])]),(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("h5",null,[n,(0,r.createElementVNode)("small",null,(0,r.toDisplayString)(o.project.description),1)])]),(0,r.createElementVNode)("div",d,[(0,r.createElementVNode)("div",s,[(0,r.createElementVNode)("div",u,[void 0===o.editData?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,type:"button",onClick:t[0]||(t[0]=function(e){return le.addNew()}),class:"btn btn-sm btn-outline-success pull-right"},m)):(0,r.createCommentVNode)("",!0)])]),(0,r.createElementVNode)("form",{onSubmit:t[2]||(t[2]=(0,r.withModifiers)((function(e){return le.submit()}),["prevent"])),id:"mainForm"},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(re.vehiclesGroup,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"row",key:t},[(0,r.createElementVNode)("div",p,[(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("div",f,[v,(0,r.createVNode)(ie,{modelValue:e.vehicle_id,"onUpdate:modelValue":function(t){return e.vehicle_id=t},options:re.vehicles,disabled:re.disableVehicle},null,8,["modelValue","onUpdate:modelValue","options","disabled"]),re.form.errors["vehiclesGroup."+t+".vehicle_id"]||re.form.errors["vehiclesGroup."+t+".vehicle_idX"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",V,(0,r.toDisplayString)(re.form.errors["vehiclesGroup."+t+".vehicle_id"]||re.form.errors["vehiclesGroup."+t+".vehicle_idX"]),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",b,[_,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"date","onUpdate:modelValue":function(t){return e.date_from=t},class:"form-control",autocomplete:"chrome-off"},null,8,g),[[r.vModelText,e.date_from]]),re.form.errors["vehiclesGroup."+t+".date_from"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",k,(0,r.toDisplayString)(re.form.errors["vehiclesGroup."+t+".date_from"]),1)):(0,r.createCommentVNode)("",!0),re.form.errors["vehiclesGroup."+t+".date_fromX"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",N,(0,r.toDisplayString)(re.form.errors["vehiclesGroup."+t+".date_fromX"]),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",E,[(0,r.createElementVNode)("div",y,[w,void 0===o.editData&&1!==re.vehiclesGroup.length?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,onClick:function(e){return le.removeNode(t)},style:{"margin-top":"-10px"}},G,8,x)):(0,r.createCommentVNode)("",!0)]),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"date","onUpdate:modelValue":function(t){return e.date_to=t},class:"form-control",autocomplete:"chrome-off"},null,8,D),[[r.vModelText,e.date_to]]),re.form.errors["vehiclesGroup."+t+".date_to"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",B,(0,r.toDisplayString)(re.form.errors["vehiclesGroup."+t+".date_to"]),1)):(0,r.createCommentVNode)("",!0),re.form.errors["vehiclesGroup."+t+".date_toX"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",C,(0,r.toDisplayString)(re.form.errors["vehiclesGroup."+t+".date_toX"]),1)):(0,r.createCommentVNode)("",!0)])]),(0,r.createElementVNode)("div",j,[(0,r.createElementVNode)("div",S,[(0,r.createElementVNode)("div",U,[(0,r.createElementVNode)("div",M,[(0,r.createElementVNode)("table",null,[(0,r.createElementVNode)("tr",null,[T,(0,r.createElementVNode)("td",null,[(0,r.createElementVNode)("div",Z,[A,(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-check-input",type:"checkbox",id:"borrow_checkbox","onUpdate:modelValue":function(t){return e.external_borrow_flag=t},checked:e.external_borrow_flag},null,8,X),[[r.vModelCheckbox,e.external_borrow_flag]])])])]),(0,r.createElementVNode)("tr",null,[I,(0,r.createElementVNode)("td",null,[(0,r.createElementVNode)("div",P,[F,(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-check-input",type:"checkbox",id:"rental_checkbox","onUpdate:modelValue":function(t){return e.rental_flag=t},disabled:!e.external_borrow_flag,checked:e.rental_flag},null,8,O),[[r.vModelCheckbox,e.rental_flag]])])])])])]),(0,r.createElementVNode)("div",z,[H,(0,r.createVNode)(ie,{modelValue:e.municipality_id,"onUpdate:modelValue":function(t){return e.municipality_id=t},options:re.municipalities,disabled:!e.external_borrow_flag,onSelect:function(o){return le.loadBarangays(e.municipality_id,t)}},null,8,["modelValue","onUpdate:modelValue","options","disabled","onSelect"]),re.form.errors["vehiclesGroup."+t+".municipality_id"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",L,(0,r.toDisplayString)(re.form.errors["vehiclesGroup."+t+".municipality_id"]),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",$,[q,(0,r.createVNode)(ie,{modelValue:e.barangay_id,"onUpdate:modelValue":function(t){return e.barangay_id=t},options:re.barangayGroups[t],disabled:!e.external_borrow_flag},null,8,["modelValue","onUpdate:modelValue","options","disabled"]),re.form.errors["vehiclesGroup."+t+".barangay_id"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",J,(0,r.toDisplayString)(re.form.errors["vehiclesGroup."+t+".barangay_id"]),1)):(0,r.createCommentVNode)("",!0)])])])]),(0,r.createElementVNode)("div",K,[(0,r.createElementVNode)("div",Q,[R,(0,r.withDirectives)((0,r.createElementVNode)("textarea",{type:"text","onUpdate:modelValue":function(t){return e.purpose=t},class:"form-control",autocomplete:"chrome-off"},null,8,W),[[r.vModelText,e.purpose]]),re.form.errors["vehiclesGroup."+t+".purpose"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",Y,(0,r.toDisplayString)(re.form.errors["vehiclesGroup."+t+".purpose"]),1)):(0,r.createCommentVNode)("",!0)])])])])})),128)),(0,r.createElementVNode)("div",ee,[(0,r.createElementVNode)("div",te,[(0,r.createElementVNode)("button",{type:"button",class:"btn btn-primary pull-right mt-3",onClick:t[1]||(t[1]=function(e){return le.submit()}),disabled:re.form.processing},(0,r.toDisplayString)("Add"==re.pageTitle?"Save/Create":"Save Changes"),9,oe)])])],32)])])}],["__scopeId","data-v-2fa4d536"]])}}]);